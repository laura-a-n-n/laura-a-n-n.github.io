{"mappings":"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","sources":["public/src/scene/general.js"],"sourcesContent":["function General() {\r\n  /* setup (っ◔◡◔)っ ❤ */\r\n  this.particularSetup = function() {};\r\n  this.particularFrame = function() {};\r\n  this.particularDraw = function() {};\r\n\r\n  this.setup = function() {\r\n    // get injected properties\r\n    gfx = this.sceneManager.gfx;\r\n    pixelFont = this.sceneManager.pixelFont;\r\n    frogShader = this.sceneManager.frogShader;\r\n    hueVal = this.sceneManager.hueVal;\r\n    satVal = this.sceneManager.satVal;\r\n    valVal = this.sceneManager.valVal;\r\n\r\n    mgr = this.sceneManager;\r\n\r\n    // canvas\r\n    calcWindowBounds();\r\n\r\n    // environment\r\n    this.envFunction();\r\n    envType = lilies.constructor.name;\r\n\r\n    // global controls\r\n    controlsEnabled = true;\r\n    buttonPressed = false;\r\n    puzzleMode = false;\r\n\r\n    // create game!\r\n    createCanvas(screenSizeX, screenSizeY);\r\n\r\n    // fade in!\r\n    fadeIn = 255;\r\n    fadingIn = true;\r\n\r\n    // frog drawer\r\n    pg = createGraphics(gfx.bby.width, gfx.bby.height, WEBGL);\r\n    pg.setAttributes('alpha', true);\r\n\r\n    this.particularSetup();\r\n  }\r\n\r\n  /* events (/◕ヮ◕)/ */\r\n\r\n  this.windowResized = function() {\r\n    calcWindowBounds();\r\n\r\n    if (player.hasQuest) player.questList[player.currentQuest].calcGUIBounds();\r\n    [cam.w, cam.h] = [screenSizeX, screenSizeY];\r\n    resizeCanvas(screenSizeX, screenSizeY);\r\n  }\r\n\r\n  this.mouseClicked = function(e) {\r\n    if (controlsEnabled && !frog.isJumping && !cl_lastClicked) {\r\n      frog.jumpNextFrame = true;\r\n    }\r\n  }\r\n\r\n  this.keyPressed = function() {\r\n    if (controlsEnabled) {\r\n      if (!frog.isJumping) {\r\n        if (keyCode == UP_ARROW) {\r\n          frog.type += 1;\r\n        } else if (keyCode == DOWN_ARROW) {\r\n          frog.type -= 1;\r\n        }\r\n      }\r\n\r\n      if (key == 'y') {\r\n        cam.toggleLock(frog);\r\n      } else if (key == 'u') {\r\n        cam.anchored = !cam.anchored;\r\n      } else if (key == 'Escape') {\r\n        player.resetCharacter();\r\n        frog = player.character;\r\n      } else if (key == 'h') {\r\n        cam.guiOptions['helpLines'] = !cam.guiOptions['helpLines'];\r\n      }\r\n\r\n      for (const letter in player.binds) {\r\n        if (key == letter.toLowerCase()) player.binds[letter]();\r\n      }\r\n    }\r\n  }\r\n\r\n  this.mouseWheel = function(event) {\r\n    if (controlsEnabled) {\r\n      //cam.zoom(event.delta);\r\n      //frog.scale = cam.scale;\r\n      //disabled in demo!\r\n    }\r\n  }\r\n\r\n  this.frame = function() {\r\n    player.frame();\r\n\r\n    frogs.forEach((frog) => frog.frame(cam));\r\n\r\n    for (const bug in bugs) {\r\n      bugs[bug].frame(frogs);\r\n\r\n      if (bugs[bug].destroyed) bugs.splice(bug, 1);\r\n    }\r\n\r\n    cam.frame();\r\n\r\n    this.particularFrame();\r\n  }\r\n\r\n  /* ~ other stuff ~ */\r\n  this.wizardAnim = function() {\r\n    frog.type = 0;\r\n    frog.drawType = false;\r\n    controlsEnabled = false;\r\n\r\n    wizard = new Frog(lilies, gfx['frogStand'], frog.number + 3,\r\n                      frog.lily + 3);\r\n    wizard.pointingLeft = true;\r\n    wizard.isBby = false;\r\n    frogs.push(wizard);\r\n\r\n    visibleFrogs = [0, 1];\r\n    wizard.jumpNextFrame = true;\r\n\r\n    wizard.special = function() {\r\n      if (wizard.stoppedJumping && wizard.number != frog.number + 1) {\r\n        wizard.jumpNextFrame = true;\r\n      } else if (wizard.number == frog.number + 1) {\r\n        wizard.deleteSpecial();\r\n        wizard.drawSpecial = true;\r\n        wizard.specialFrames = 0;\r\n\r\n        wizard.specialDraw = function() {\r\n          wizard.specialFrames += deltaTime / 1000;\r\n\r\n          image(gfx.alertBubble, gfx.alertBubble.width / 2, 0);\r\n\r\n          if (wizard.specialFrames > 5) {\r\n            mgr.showScene(FactorsPuzzle, {specialLily: 9, initVals: [2, 3, 4, 5]});\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /* main loop ✨(っ◔︣◡◔᷅)っc(◕︣◡◕᷅c)✨ */\r\n\r\n  this.draw = function() {\r\n    this.frame();\r\n\r\n    /* ~ background ~ */\r\n    this.drawBackground(this.bg);\r\n\r\n    /* ~ lilies ~ */\r\n    lilies.draw();\r\n\r\n    /* ~ gui ~ */\r\n    player.draw();\r\n\r\n    /* ~ bugs ~ */\r\n    for (const bug of bugs) {\r\n      push();\r\n\r\n      camBugPos = cam.toCamCoords(bug.posX, bug.posY);\r\n      translate(...camBugPos);\r\n\r\n      image(bug.sprite, 0, 0, cam.scale * bug.dimX, cam.scale * bug.dimY);\r\n\r\n      pop();\r\n    }\r\n\r\n    /* ~ frog ~ */\r\n    for (const frog of visibleFrogs) {\r\n      // all frogs!\r\n      frogs[frog].draw();\r\n    };\r\n\r\n    /* ~ fade in ~ */\r\n    if (fadingIn) {\r\n      background(0, fadeIn);\r\n\r\n      fadeIn -= deltaTime / 10;\r\n      fadingIn = fadeIn >= 0;\r\n    }\r\n\r\n    // level-specific draw\r\n    this.particularDraw();\r\n  }\r\n}\r\n\r\ngeneralState = new General();"],"names":[],"version":3,"file":"index.7cc8955b.js.map","sourceRoot":"/__parcel_source_root/"}