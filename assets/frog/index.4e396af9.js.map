{"mappings":"AAAA,SAASA,gBAERC,KAAKC,YAAcC,kBACnBC,aAAaC,GAAKC,IAAQ,GAE1BF,aAAaG,eAAiB,WAC7BC,QAAUC,YAAcH,IAAID,GAAGK,MAC/BC,MAAMP,aAAaC,GAAI,GAAIG,QAAUF,IAAID,GAAGO,OAAS,EAAGH,YAAaD,QAAUF,IAAID,GAAGO,SAGvFR,aAAaS,KAAOC,IAAIC,QACxBX,aAAaY,QAAU,GAEvBC,OAAOC,OAAOjB,KAAMG,cAGpBe,eAAiB,EAEjBlB,KAAKmB,gBAAkB,WACtBC,YAAa,EAEbC,OAAOC,YAActB,KAAKuB,UAAUD,YACpCD,OAAOG,eAAgB,EACvBH,OAAOI,YAAcC,MAAM,GAE3BC,eAAgB,EAChBC,WAAa,EACbC,cAAgB,EAChBC,aAAc,EACdC,UAAW,EACXC,KAAKD,UAAW,EAEhBC,KAAKC,KAAO,EAEZC,iBAAkB,EAElBb,OAAOc,IAAIC,WAAWpC,KAAKuB,UAAUc,UACrChB,OAAOc,IAAIG,YACXjB,OAAOc,IAAII,IAAIC,UAAUC,MAAO,EAChCpB,OAAOqB,YAAcrB,OAAOsB,UAAUC,YAAYC,SAAW,EAC7DxB,OAAOyB,YAAc,GAErBC,IAAIC,MAAQD,IAAIE,SAChBF,IAAIG,cAAgB,EAAIH,IAAII,EAAI,GAChCJ,IAAIK,WAAWpB,MACfe,IAAIM,UAAW,EACfN,IAAIK,WAAWpB,MAEfsB,OAAOC,gBAAiB,EACxBD,OAAOE,aAAe,GAEtBC,KAAKC,KAAK,IAAIC,IAAIL,OAAQjD,IAAW,MAAGL,KAAKuB,UAAUD,YAAa,GAAI,WAGzEtB,KAAK4D,WAAa,WACjB9B,aAAc,EACdH,eAAgB,EAChBC,WAAa,EAEbiC,WAAa7B,KAAK8B,OAElB9B,KAAOX,OAAO0C,uBAEd/B,KAAK8B,OAASD,YAGf7D,KAAKgE,gBAAkB,YAClBlC,aAAeC,YAClBC,KAAKC,KAAO,EACZL,YAAcqC,UAAY,IAEtBrC,WAAaC,gBAChB7B,KAAK4D,aAED7B,WACCb,eAAiB,EAEpBgD,IAAIC,UAAUC,oBAAqB,CAAC9C,YAAa,EAAGe,SAAU,CAAC,EAAG,EAAG,EAAG,MAExErC,KAAKuB,UAAUD,YAAc,GAC7BtB,KAAKuB,UAAUc,SAAW,CAAC,EAAG,EAAG,EAAG,GACpCrC,KAAKmB,uBAMJW,aAAeE,KAAKqC,KAAOhD,OAAOC,aAAemC,KAAKa,OAAS,GAEnEpC,iBAAkB,EAClBJ,aAAc,EACdE,KAAKuC,UAAW,GACLxC,UAA2B,GAAf0B,KAAKa,SAC5BjD,OAAOG,eAAgB,EAEvBQ,KAAKC,KAAO,EACZD,KAAKD,UAAW,EAChBV,OAAOG,eAAgB,EACvBQ,KAAKwC,UAAUd,KAAK,GACpB3B,UAAW,EACXb,iBACAc,KAAKuC,UAAW,IAIlBvE,KAAKyE,eAAiB,WACrB/D,MAAML,IAAW,MAAG,EAAG,EAAwB,GAArBA,IAAW,MAAEI,MAAkC,GAAtBJ,IAAW,MAAEM,QAChE+D,KAAKxD,eAAeyD,WAAY,GAA0B,GAArBtE,IAAW,MAAEI,MAAkC,GAAtBJ,IAAW,MAAEM,OAAc,EAAI","sources":["public/src/scene/factors-puzzle.js"],"sourcesContent":["function FactorsPuzzle() {\r\n\r\n\tthis.envFunction = linearEnvironment;\r\n\tgeneralState.bg = gfx['bg'];\r\n\r\n\tgeneralState.drawBackground = function() {\r\n\t\tbgScale = screenSizeX / gfx.bg.width;\r\n\t\timage(generalState.bg, 0, -bgScale * gfx.bg.height / 4, screenSizeX, bgScale * gfx.bg.height);\r\n\t}\r\n\r\n\tgeneralState.song = sfx.toyTown;\r\n\tgeneralState.songVol = .3;\r\n\r\n\tObject.assign(this, generalState);\r\n\r\n\r\n\tpuzolsComplete = 0;\r\n\r\n\tthis.particularSetup = function() {\r\n\t\tpuzzleMode = true;\r\n\r\n\t\tplayer.specialLily = this.sceneArgs.specialLily;\r\n\t\tplayer.specialNumber = true;\r\n\t\tplayer.numberColor = color(0);\r\n\r\n\t\tbuttonPressed = false;\r\n\t\twaitFrames = 0;\r\n\t\tmaxWaitFrames = 4;\r\n\t\tlevelFailed = false;\r\n\t\tlevelWon = false;\r\n\t\tfrog.levelWon = false;\r\n\r\n\t\tfrog.type = 0;\r\n\r\n\t\tcontrolsEnabled = false;\r\n\r\n\t\tplayer.gui.initialize(this.sceneArgs.initVals);\r\n\t\tplayer.gui.calculate();\r\n\t\tplayer.gui.obj.quickFrog.draw = true;\r\n\t\tplayer.specialOffX = player.character.environment.lilyDimX / 4;\r\n\t\tplayer.specialOffY = 60;\r\n\r\n\t\tcam.scale = cam.minScale;\r\n\t\tcam.targetOffsetX = 6 * cam.w / 13;\r\n\t\tcam.toggleLock(frog);\r\n\t\tcam.anchored = true;\r\n\t\tcam.toggleLock(frog);\r\n\r\n\t\tlilies.negativeLilies = false;\r\n\t\tlilies.lilySpacingX = 80;\r\n\r\n\t\tbugs.push(new Bug(lilies, gfx['snail'], this.sceneArgs.specialLily, .2, 'snail'));\r\n\t}\r\n\r\n\tthis.resetLevel = function() {\r\n\t\tlevelFailed = false;\r\n\t\tbuttonPressed = false;\r\n\t\twaitFrames = 0;\r\n\r\n\t\tlastHunger = frog.hunger;\r\n\r\n\t\tfrog = player.instantiateCharacter();\r\n\r\n\t\tfrog.hunger = lastHunger;\r\n\t}\r\n\r\n\tthis.particularFrame = function() {\r\n\t\tif (levelFailed || levelWon) {\r\n\t\t\tfrog.type = 0;\r\n\t\t\twaitFrames += deltaTime / 1000;\r\n\t\t\t\r\n\t\t\tif (waitFrames > maxWaitFrames) {\r\n\t\t\t\tthis.resetLevel();\r\n\r\n\t\t\t\tif (levelWon) {\r\n\t\t\t\t\tif (puzolsComplete > 1) {\r\n\t\t\t\t\t\t// ok time to move on...\r\n\t\t\t\t\t\tmgr.showScene(CyclicFactorsPuzzle, {specialLily: 9, initVals: [2, 3, 4, 5]});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.sceneArgs.specialLily = 12;\r\n\t\t\t\t\t\tthis.sceneArgs.initVals = [5, 7, 8, 6];\r\n\t\t\t\t\t\tthis.particularSetup();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!levelFailed && frog.lily > player.specialLily && bugs.length > 0) {\r\n\t\t\t//frog.number += frog.type;\r\n\t\t\tcontrolsEnabled = false;\r\n\t\t\tlevelFailed = true;\r\n\t\t\tfrog.drawType = false;\r\n\t\t} else if (!levelWon && bugs.length == 0) {\r\n\t\t\tplayer.specialNumber = false;\r\n\t\t\t// epic! wonned!\r\n\t\t\tfrog.type = 0; // don't move!\r\n\t\t\tfrog.levelWon = true;\r\n\t\t\tplayer.specialNumber = false;\r\n\t\t\tfrog.showHeart.push(1);\r\n\t\t\tlevelWon = true;\r\n\t\t\tpuzolsComplete++;\r\n\t\t\tfrog.drawType = false;\r\n\t\t}\r\n\t}\r\n\r\n\tthis.particularDraw = function() {\r\n\t\timage(gfx['snail'], 5, 0, gfx['snail'].width * .1, gfx['snail'].height * .1);\r\n\t\ttext(puzolsComplete.toString(), 15 + gfx['snail'].width * .1, gfx['snail'].height * .1 / 2 + 10)\r\n\t}\r\n}"],"names":["FactorsPuzzle","this","envFunction","linearEnvironment","generalState","bg","gfx","drawBackground","bgScale","screenSizeX","width","image","height","song","sfx","toyTown","songVol","Object","assign","puzolsComplete","particularSetup","puzzleMode","player","specialLily","sceneArgs","specialNumber","numberColor","color","buttonPressed","waitFrames","maxWaitFrames","levelFailed","levelWon","frog","type","controlsEnabled","gui","initialize","initVals","calculate","obj","quickFrog","draw","specialOffX","character","environment","lilyDimX","specialOffY","cam","scale","minScale","targetOffsetX","w","toggleLock","anchored","lilies","negativeLilies","lilySpacingX","bugs","push","Bug","resetLevel","lastHunger","hunger","instantiateCharacter","particularFrame","deltaTime","mgr","showScene","CyclicFactorsPuzzle","lily","length","drawType","showHeart","particularDraw","text","toString"],"version":3,"file":"index.4e396af9.js.map"}