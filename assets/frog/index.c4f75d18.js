function General(){this.particularSetup=function(){},this.particularFrame=function(){},this.particularDraw=function(){},this.earlySetup=function(){},this.setup=function(){mgr=this.sceneManager,gfx=mgr.gfx,sfx=mgr.sfx,pixelFont=mgr.pixelFont,frogShader=mgr.frogShader,hueVal=mgr.hueVal,satVal=mgr.satVal,valVal=mgr.valVal,muted=mgr.prop.muted,calcWindowBounds(),this.earlySetup(),this.envFunction(),envType=lilies.constructor.name,controlsEnabled=!0,puzzleMode=!1,snailPuzzle=!1,placingSnail=!0,muted=!1,levelFailed=!1,levelWon=!1,buttonPressed=!1,createCanvas(screenSizeX,screenSizeY).parent("game-container"),fadeIn=255,fadingIn=!0,pg=createGraphics(gfx.bby.width,gfx.bby.height,WEBGL),pg.setAttributes("alpha",!0),this.particularSetup(),this.song!=mgr.prop.song&&void 0!==this.song&&(mgr.prop.song.stop(),mgr.prop.song=this.song,mgr.prop.song.setVolume(mgr.prop.musicVol*this.songVol),mgr.prop.song.loop())},this.enter=this.setup,this.windowResized=function(){calcWindowBounds(),player.hasQuest&&player.questList[player.currentQuest].calcGUIBounds(),[cam.w,cam.h]=[screenSizeX,screenSizeY],resizeCanvas(screenSizeX,screenSizeY)},this.mouseClicked=function(e){snailPuzzle&&placingSnail?(placingSnail=!1,controlsEnabled=!0,cam.locked||cam.toggleLock(frog)):!controlsEnabled||frog.isJumping||cl_lastClicked?player.quitReady&&window.location.reload():frog.jumpNextFrame=!0},this.keyPressed=function(){if(!snailPuzzle||keyCode!=UP_ARROW&&keyCode!=DOWN_ARROW){if(controlsEnabled){frog.isJumping||puzzleMode||(keyCode==UP_ARROW?frog.type+=1:keyCode==DOWN_ARROW&&(frog.type-=1)),"y"==key?cam.toggleLock(frog):"u"==key?cam.anchored=!cam.anchored:"Escape"==key||"h"==key&&(cam.guiOptions.helpLines=!cam.guiOptions.helpLines);for(const e in player.binds)key==e.toLowerCase()&&player.binds[e]()}}else{if(frogs.length>1)return;currentFrogType++,currentFrogType%=2,frog=player.instantiateCharacter(),frog.type=frogTypes[currentFrogType]}player.quitReady&&window.location.reload()},this.mouseWheel=function(e){},this.frame=function(){if(player.frame(),!player.character.tooHungry){frogs.forEach((e=>e.frame(cam)));for(const e in bugs)bugs[e].frame(frogs),bugs[e].destroyed&&bugs.splice(e,1);cam.frame(),this.particularFrame()}},this.wizardAnim=function(){frog.type=0,frog.drawType=!1,controlsEnabled=!1,wizard=new Frog(lilies,gfx.frogStand,frog.number+3,frog.lily+3),wizard.pointingLeft=!0,wizard.isBby=!1,frogs.push(wizard),visibleFrogs=[0,1],wizard.jumpNextFrame=!0,mgr.prop.song.stop(),sfx.wizard.setVolume(.5*mgr.prop.fxVol),sfx.wizard.play(),wizard.special=function(){wizard.stoppedJumping&&wizard.number!=frog.number+1?wizard.jumpNextFrame=!0:wizard.number==frog.number+1&&(wizard.deleteSpecial(),wizard.drawSpecial=!0,wizard.specialFrames=0,wizard.specialDraw=function(){wizard.specialFrames+=deltaTime/1e3,image(gfx.alertBubble,gfx.alertBubble.width/2,0),wizard.specialFrames>5&&mgr.showScene(FactorsPuzzle,{specialLily:9,initVals:[2,3,4,5]})})}},this.draw=function(){this.frame(),this.drawBackground(this.bg),lilies.draw();for(const e of bugs)push(),camBugPos=cam.toCamCoords(e.posX,e.posY),translate(...camBugPos),image(e.sprite,0,0,cam.scale*e.dimX,cam.scale*e.dimY),pop();player.draw();for(const e of visibleFrogs)frogs[e].draw();fadingIn&&(background(0,fadeIn),fadeIn-=deltaTime/10,fadingIn=fadeIn>=0),this.particularDraw()}}generalState=new General;
//# sourceMappingURL=index.c4f75d18.js.map
