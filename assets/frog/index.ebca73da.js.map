{"mappings":"AAAA,SAASA,gBAERC,KAAKC,YAAcC,kBACnBC,aAAaC,GAAKC,IAAQ,GAE1BF,aAAaG,eAAiB,WAC7BC,QAAUC,YAAcH,IAAID,GAAGK,MAC/BC,MAAMP,aAAaC,GAAI,GAAIG,QAAUF,IAAID,GAAGO,OAAS,KAAMH,YAAaD,QAAUF,IAAID,GAAGO,SAG1FR,aAAaS,KAAOC,IAAIC,QACxBX,aAAaY,QAAU,GAEvBC,OAAOC,OAAOjB,KAAMG,cAGpBe,eAAiB,EAEjBlB,KAAKmB,gBAAkB,WACtBC,YAAa,EAEbC,OAAOC,YAActB,KAAKuB,UAAUD,YACpCD,OAAOG,eAAgB,EACvBH,OAAOI,YAAcC,MAAM,GAC3BL,OAAOM,WAAyB,GAAZC,KAAKC,KACzBR,OAAOS,WAAa,GACpBT,OAAOU,iBAAkB,EAEzBC,eAAgB,EAChBC,WAAa,EACbC,cAAgB,EAChBC,aAAc,EACdC,UAAW,EACXR,KAAKQ,UAAW,EAEhBR,KAAKS,KAAO,EAEZC,iBAAkB,EAElBjB,OAAOkB,IAAIC,WAAWxC,KAAKuB,UAAUkB,UACrCpB,OAAOkB,IAAIG,YACXrB,OAAOkB,IAAII,IAAIC,UAAUC,MAAO,EAChCxB,OAAOyB,YAAczB,OAAO0B,UAAUC,YAAYC,SAAW,EAC7D5B,OAAO6B,YAAc,GAErBC,IAAIC,MAAQD,IAAIE,SAChBF,IAAIG,cAAgB,EAAIH,IAAII,EAAI,GAChCJ,IAAIK,WAAW5B,MACfuB,IAAIM,UAAW,EACfN,IAAIK,WAAW5B,MAEf8B,OAAOC,gBAAiB,EACxBD,OAAOE,aAAe,GAEtBC,KAAKC,KAAK,IAAIC,IAAIL,OAAQrD,IAAW,MAAGL,KAAKuB,UAAUD,YAAa,GAAI,WAGzEtB,KAAKgE,WAAa,WACjB7B,aAAc,EACdH,eAAgB,EAChBC,WAAa,EAEbgC,WAAarC,KAAKsC,OAElBtC,KAAOP,OAAO8C,uBAEdvC,KAAKsC,OAASD,YAGfjE,KAAKoE,gBAAkB,YAClBjC,aAAeC,YAClBR,KAAKS,KAAO,EACZJ,YAAcoC,UAAY,IAEtBpC,WAAaC,gBAChBlC,KAAKgE,aAED5B,WACClB,eAAiB,EAGpBoD,IAAIC,UAAUC,oBAAqB,CAAClD,YAAa,EAAGmB,SAAU,CAAC,EAAG,EAAG,EAAG,MAExEzC,KAAKuB,UAAUD,YAAc,GAC7BtB,KAAKuB,UAAUkB,SAAW,CAAC,EAAG,EAAG,EAAG,GACpCzC,KAAKmB,uBAMJgB,aAAeP,KAAK6C,KAAOpD,OAAOC,aAAeuC,KAAKa,OAAS,GAEnEpC,iBAAkB,EAClBH,aAAc,EACdP,KAAK+C,UAAW,GACLvC,UAA2B,GAAfyB,KAAKa,SAG5B9C,KAAKS,KAAO,EACZT,KAAKQ,UAAW,EAEhBf,OAAOU,iBAAkB,EACzBH,KAAKgD,UAAUd,KAAK,GACpB1B,UAAW,EACXlB,iBACAU,KAAK+C,UAAW,IAIlB3E,KAAK6E,eAAiB,WACrBnE,MAAML,IAAW,MAAG,EAAG,EAAwB,GAArBA,IAAW,MAAEI,MAAkC,GAAtBJ,IAAW,MAAEM,QAChEmE,KAAK5D,eAAe6D,WAAY,GAA0B,GAArB1E,IAAW,MAAEI,MAAkC,GAAtBJ,IAAW,MAAEM,OAAc,EAAI","sources":["public/src/scene/factors-puzzle.js"],"sourcesContent":["function FactorsPuzzle() {\r\n\r\n\tthis.envFunction = linearEnvironment;\r\n\tgeneralState.bg = gfx['bg'];\r\n\r\n\tgeneralState.drawBackground = function() {\r\n\t\tbgScale = screenSizeX / gfx.bg.width;\r\n\t\timage(generalState.bg, 0, -bgScale * gfx.bg.height * .225, screenSizeX, bgScale * gfx.bg.height);\r\n\t}\r\n\r\n\tgeneralState.song = sfx.toyTown;\r\n\tgeneralState.songVol = .3;\r\n\r\n\tObject.assign(this, generalState);\r\n\r\n\r\n\tpuzolsComplete = 0;\r\n\r\n\tthis.particularSetup = function() {\r\n\t\tpuzzleMode = true;\r\n\r\n\t\tplayer.specialLily = this.sceneArgs.specialLily;\r\n\t\tplayer.specialNumber = true;\r\n\t\tplayer.numberColor = color(0);\r\n\t\tplayer.numOffsetX = frog.dimX * 0.2;\r\n\t\tplayer.numOffsetY = 78;\r\n\t\tplayer.drawNumberBelow = true;\r\n\r\n\t\tbuttonPressed = false;\r\n\t\twaitFrames = 0;\r\n\t\tmaxWaitFrames = 4;\r\n\t\tlevelFailed = false;\r\n\t\tlevelWon = false;\r\n\t\tfrog.levelWon = false;\r\n\r\n\t\tfrog.type = 0;\r\n\r\n\t\tcontrolsEnabled = false;\r\n\r\n\t\tplayer.gui.initialize(this.sceneArgs.initVals);\r\n\t\tplayer.gui.calculate();\r\n\t\tplayer.gui.obj.quickFrog.draw = true;\r\n\t\tplayer.specialOffX = player.character.environment.lilyDimX / 4;\r\n\t\tplayer.specialOffY = 68;\r\n\r\n\t\tcam.scale = cam.minScale;\r\n\t\tcam.targetOffsetX = 6 * cam.w / 13;\r\n\t\tcam.toggleLock(frog);\r\n\t\tcam.anchored = true;\r\n\t\tcam.toggleLock(frog);\r\n\r\n\t\tlilies.negativeLilies = false;\r\n\t\tlilies.lilySpacingX = 80;\r\n\r\n\t\tbugs.push(new Bug(lilies, gfx['snail'], this.sceneArgs.specialLily, .2, 'snail'));\r\n\t}\r\n\r\n\tthis.resetLevel = function() {\r\n\t\tlevelFailed = false;\r\n\t\tbuttonPressed = false;\r\n\t\twaitFrames = 0;\r\n\r\n\t\tlastHunger = frog.hunger;\r\n\r\n\t\tfrog = player.instantiateCharacter();\r\n\r\n\t\tfrog.hunger = lastHunger;\r\n\t}\r\n\r\n\tthis.particularFrame = function() {\r\n\t\tif (levelFailed || levelWon) {\r\n\t\t\tfrog.type = 0;\r\n\t\t\twaitFrames += deltaTime / 1000;\r\n\t\t\t\r\n\t\t\tif (waitFrames > maxWaitFrames) {\r\n\t\t\t\tthis.resetLevel();\r\n\r\n\t\t\t\tif (levelWon) {\r\n\t\t\t\t\tif (puzolsComplete > 1) {\r\n\t\t\t\t\t\t// ok time to move on...\r\n\t\t\t\t\t\t// mgr.showScene(OpenLinear, {step: 1})\r\n\t\t\t\t\t\tmgr.showScene(CyclicFactorsPuzzle, {specialLily: 9, initVals: [2, 3, 4, 5]});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.sceneArgs.specialLily = 12;\r\n\t\t\t\t\t\tthis.sceneArgs.initVals = [5, 7, 8, 6];\r\n\t\t\t\t\t\tthis.particularSetup();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!levelFailed && frog.lily > player.specialLily && bugs.length > 0) {\r\n\t\t\t//frog.number += frog.type;\r\n\t\t\tcontrolsEnabled = false;\r\n\t\t\tlevelFailed = true;\r\n\t\t\tfrog.drawType = false;\r\n\t\t} else if (!levelWon && bugs.length == 0) {\r\n\t\t\t// player.specialNumber = false;\r\n\t\t\t// epic! wonned!\r\n\t\t\tfrog.type = 0; // don't move!\r\n\t\t\tfrog.levelWon = true;\r\n\t\t\t// player.specialNumber = false;\r\n\t\t\tplayer.drawNumberBelow = false;\r\n\t\t\tfrog.showHeart.push(1);\r\n\t\t\tlevelWon = true;\r\n\t\t\tpuzolsComplete++;\r\n\t\t\tfrog.drawType = false;\r\n\t\t}\r\n\t}\r\n\r\n\tthis.particularDraw = function() {\r\n\t\timage(gfx['snail'], 5, 0, gfx['snail'].width * .1, gfx['snail'].height * .1);\r\n\t\ttext(puzolsComplete.toString(), 15 + gfx['snail'].width * .1, gfx['snail'].height * .1 / 2 + 10)\r\n\t}\r\n}"],"names":["FactorsPuzzle","this","envFunction","linearEnvironment","generalState","bg","gfx","drawBackground","bgScale","screenSizeX","width","image","height","song","sfx","toyTown","songVol","Object","assign","puzolsComplete","particularSetup","puzzleMode","player","specialLily","sceneArgs","specialNumber","numberColor","color","numOffsetX","frog","dimX","numOffsetY","drawNumberBelow","buttonPressed","waitFrames","maxWaitFrames","levelFailed","levelWon","type","controlsEnabled","gui","initialize","initVals","calculate","obj","quickFrog","draw","specialOffX","character","environment","lilyDimX","specialOffY","cam","scale","minScale","targetOffsetX","w","toggleLock","anchored","lilies","negativeLilies","lilySpacingX","bugs","push","Bug","resetLevel","lastHunger","hunger","instantiateCharacter","particularFrame","deltaTime","mgr","showScene","CyclicFactorsPuzzle","lily","length","drawType","showHeart","particularDraw","text","toString"],"version":3,"file":"index.ebca73da.js.map"}