{"mappings":"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","sources":["public/src/client/quest.js"],"sourcesContent":["class Quest {\r\n\tconstructor(assignee,\r\n\t\t\t\tinitializer,\r\n\t\t\t\thandler,\r\n\t\t\t\tsuccessHandler,\r\n\t\t\t\tquestMessage,\r\n\t\t\t\tdraw) {\r\n\t\tthis.assignee = assignee;\r\n\t\tthis.initializer = initializer;\r\n\t\tthis.handler = handler;\r\n\t\tthis.successHandler = successHandler;\r\n\t\tthis.questMessage = questMessage;\r\n\t\tthis.message = questMessage;\r\n\t\tthis.draw = draw;\r\n\t\tthis.success = false;\r\n\t\tthis.successHandled = false;\r\n\t\tthis.tick = 0;\r\n\t\tthis.tickGoal = 0;\r\n\t\tthis.tickForceDebounce = false;\r\n\t\tthis.progress = 0;\r\n\r\n\t\tthis.calcGUIBounds();\r\n\t\tthis.initializer();\r\n\t}\r\n\r\n\tcalcGUIBounds() {\r\n\t\tthis.questBoxPos = [screenSizeX - gfx['flyBar'].width - 5,  1 * screenSizeY / 16];\r\n\t\tthis.questBoxSize = [gfx['flyBar'].width, screenSizeY / 4];\r\n\t\tthis.questBoxMargin = 6;\r\n\t\tthis.gui = new GUIWindow(...this.questBoxPos, ...this.questBoxSize,\r\n\t\t\t\t\t\t\t\t this.questBoxMargin, 'Quest', this.message);\r\n\t}\r\n\r\n\tsleep(goal, forceReset = false) {\r\n\t\tif (this.tickGoal != goal || (forceReset && !this.tickForceDebounce)) {\r\n\t\t\tthis.tick = 0;\r\n\t\t\tthis.tickGoal = goal;\r\n\t\t\tthis.tickForceDebounce = true;\r\n\t\t}\r\n\r\n\t\tif (this.tick < this.tickGoal) {\r\n\t\t\tthis.tick += deltaTime / 1000;\r\n\t\t\treturn false;\r\n\t\t} else { \r\n\t\t\tthis.tickForceDebounce = false;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\tframe() {\r\n\t\tthis.gui.message = this.message;\r\n\r\n\t\tif (!this.success) this.handler();\r\n\t\telse this.successHandler();\r\n\r\n\t\treturn this.success;\r\n\t}\r\n}\r\n\r\nclass FlyQuest extends Quest {\r\n\tconstructor(assignee) {\r\n\t\tsuper(\r\n\t\t\tassignee,\r\n\r\n\t\t\tfunction() {\r\n\t\t\t\tthis.fliesEaten = 0;\r\n\t\t\t\tthis.needToEat = 3;\r\n\t\t\t\tthis.flyEaten = false;\r\n\t\t\t},\r\n\r\n\t\t\tfunction() {\r\n\t\t\t\tif (!this.flyEaten && this.assignee.character.ateThisFrame\r\n\t\t\t\t\t&& this.assignee.character.foodName == 'fly') {\r\n\t\t\t\t\tthis.flyEaten = true;\r\n\t\t\t\t\tthis.fliesEaten++;\r\n\t\t\t\t} else if (this.flyEaten && !this.assignee.character.ateThisFrame) {\r\n\t\t\t\t\tthis.flyEaten = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.fliesEaten >= this.needToEat) {\r\n\t\t\t\t\tthis.success = true;\r\n\t\t\t\t\tthis.successHandler();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.message = this.questMessage + `\\n${this.fliesEaten} / ${this.needToEat}`;\r\n\t\t\t},\r\n\r\n\t\t\tfunction() {\r\n\t\t\t\tif (!this.successHandled) {\r\n\t\t\t\t\tthis.successHandled = true;\r\n\t\t\t\t\tthis.message = 'Blessed!';\r\n\t\t\t\t\t\r\n\t\t\t\t\tgeneralState.wizardAnim();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t'Eat 3 flies!',\r\n\r\n\t\t\tfunction(gfx, opacity) {\r\n\t\t\t\tfor (let i = 0; i < this.needToEat; i++) {\r\n\t\t\t\t\tpush();\r\n\t\t\t\t\ttranslate(this.gui.x + this.gui.w / 2 - 1.5 * gfx['fly'].width, this.gui.y + 4 * this.gui.h / 5);\r\n\t\t\t\t\ttint(255, opacity * (.5 + .5 * (i < this.fliesEaten)));\r\n\t\t\t\t\timage(gfx['fly'], gfx['fly'].width * i, 0);\r\n\t\t\t\t\tpop();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n}\r\n\r\nclass CrabQuest extends Quest {\r\n\tconstructor(assignee) {\r\n\t\tsuper(\r\n\t\t\tassignee,\r\n\r\n\t\t\t// setup\r\n\t\t\tfunction() {\r\n\t\t\t\tfrog.type = 2;\r\n\r\n\t\t\t\t// spawn le crab\r\n\t\t\t\tlet crab = new Bug(lilies, gfx.crab, 13, .2, 'crab');\r\n\t\t\t\tcrab.edible = false;\r\n\t\t\t\tbugs.push(crab);\r\n\t\t\t\tthis.crab = crab;\r\n\r\n\t\t\t\t// spawn le wizard frog omg holy wow\r\n\t\t\t\tlet wizardFrog = new Frog(lilies, gfx.frogStand, 23, 23);\r\n\t\t\t\tfrogs.push(wizardFrog);\r\n\t\t\t\tthis.wizard = wizardFrog;\r\n\t\t\t\tvisibleFrogs.push(1);\r\n\r\n\t\t\t\tthis.given = false;\r\n\t\t\t\tthis.vignette = createGraphics(screenSizeX, screenSizeY);\r\n\t\t\t\tthis.vignette.fill(255, 0);\r\n\t\t\t\tthis.vignette.stroke(255, 0);\r\n\t\t\t\tthis.vignetteSize = 400;\r\n\r\n\t\t\t\tthis.vignetteFunction = function() {\r\n\r\n\t\t\t\t\t// vignette\r\n\t\t\t\t\tlet quest = player.questList[player.currentQuest]\r\n\t\t\t\t\tlet vignette = quest.vignette;\r\n\t\t\t\t\tlet midpoint = quest.midpoint;\r\n\r\n\t\t\t\t\tquest.ctr += deltaTime / 2000;\r\n\t\t\t\t\tpush();\r\n\t\t\t\t\tvignette.background(0, (quest.ctr * 255.));\r\n\t\t\t\t\tvignette.erase();\r\n\t\t\t\t\tvignette.circle(midpoint.x, midpoint.y, quest.vignetteSize);\r\n\t\t\t\t\tvignette.noErase();\r\n\t\t\t\t\timage(vignette, 0, 0);\r\n\t\t\t\t\tpop();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlilies.lilyBounds = [-22, 22];\r\n\t\t\t},\r\n\r\n\t\t\t// frame\r\n\t\t\tfunction() {\r\n\t\t\t\tif (frog.lily == 13 && (!frog.isJumping)) this.progress = 2;\r\n\t\t\t\tswitch(this.progress) {\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\tif (frog.lily == 22 && !frog.isJumping && !this.given) {\r\n\t\t\t\t\t\t\tcontrolsEnabled = false;\r\n\t\t\t\t\t\t\tplayer.cam.guiOptions.helpLines = false;\r\n\t\t\t\t\t\t\tthis.given = true;\r\n\t\t\t\t\t\t\tthis.wizard.pointingLeft = true;\r\n\r\n\t\t\t\t\t\t\tthis.ctr = 0;\r\n\r\n\t\t\t\t\t\t\t// calc vignette position\r\n\t\t\t\t\t\t\tlet wizPos = this.wizard.lastCamFrogPos;\r\n\t\t\t\t\t\t\twizPos = createVector(...wizPos)\r\n\t\t\t\t\t\t\tlet frogPos = frog.lastCamFrogPos;\r\n\t\t\t\t\t\t\tfrogPos = createVector(...frogPos)\r\n\t\t\t\t\t\t\tthis.midpoint = p5.Vector.add(wizPos, frogPos);\r\n\t\t\t\t\t\t\tthis.midpoint.div(2);\r\n\r\n\t\t\t\t\t\t\tmgr.scene.oScene.particularDraw = this.vignetteFunction;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (this.given) {\r\n\t\t\t\t\t\t\tif (this.sleep(5)) { \r\n\t\t\t\t\t\t\t\tthis.wizard.type--;\r\n\t\t\t\t\t\t\t\tthis.wizard.sprite = gfx.bby;\r\n\t\t\t\t\t\t\t\tthis.wizard.jumpOverride = true;\r\n\t\t\t\t\t\t\t\tthis.wizard.jumpNextFrame = true;\r\n\t\t\t\t\t\t\t\tfrog.type++;\r\n\t\t\t\t\t\t\t\tthis.progress++;\r\n\r\n\t\t\t\t\t\t\t\tcontrolsEnabled = true;\r\n\t\t\t\t\t\t\t\tplayer.cam.guiOptions.helpLines = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (Math.abs(frog.lily - this.crab.lily) < 2) {\r\n\t\t\t\t\t\t\tthis.message = '...crab?'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tif (!this.sleep(2)) return;\r\n\t\t\t\t\t\tmgr.scene.oScene.particularDraw = function() {};\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tplayer.cam.guiOptions.helpLines = false;\r\n\t\t\t\t\t\tcontrolsEnabled = false;\r\n\t\t\t\t\t\tfrog.type = 1;\r\n\t\t\t\t\t\tfrog.pointingLeft = true;\r\n\t\t\t\t\t\tfrog.jumpNextFrame = true;\r\n\t\t\t\t\t\tthis.progress++;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\tfrog.type = 3;\r\n\t\t\t\t\t\tfrog.pointingLeft = false;\r\n\r\n\t\t\t\t\t\tif (!frog.isJumping) {\r\n\t\t\t\t\t\t\t// calc vignette position\r\n\t\t\t\t\t\t\tlet crabPos = cam.toCamCoords(this.crab.posX, this.crab.posY);\r\n\t\t\t\t\t\t\tcrabPos = createVector(...crabPos)\r\n\t\t\t\t\t\t\tlet frogPos = frog.lastCamFrogPos;\r\n\t\t\t\t\t\t\tfrogPos = createVector(...frogPos)\r\n\t\t\t\t\t\t\tthis.midpoint = p5.Vector.add(crabPos, frogPos);\r\n\t\t\t\t\t\t\tthis.midpoint.div(2);\r\n\t\t\t\t\t\t\tthis.crabPos = crabPos;\r\n\t\t\t\t\t\t\tthis.vignetteSize = 500;\r\n\r\n\t\t\t\t\t\t\tmgr.scene.oScene.particularDraw = function() {\r\n\t\t\t\t\t\t\t\tlet quest = player.questList[player.currentQuest];\r\n\t\t\t\t\t\t\t\tquest.vignetteFunction();\r\n\t\t\t\t\t\t\t\timage(gfx.alertBubble, quest.crabPos.x + gfx.alertBubble.width / 2, quest.crabPos.y);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tthis.progress++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\tif (!this.sleep(2.1)) return;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.progress++;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 5:\r\n\t\t\t\t\t\tmgr.scene.oScene.particularDraw = function() {};\r\n\t\t\t\t\t\tplayer.cam.guiOptions.helpLines = true;\r\n\t\t\t\t\t\tcontrolsEnabled = true;\r\n\t\t\t\t\t\tthis.success = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// if (!this.flyEaten && this.assignee.character.ateThisFrame\r\n\t\t\t\t// \t&& this.assignee.character.foodName == 'fly') {\r\n\t\t\t\t// \tthis.flyEaten = true;\r\n\t\t\t\t// \tthis.fliesEaten++;\r\n\t\t\t\t// } else if (this.flyEaten && !this.assignee.character.ateThisFrame) {\r\n\t\t\t\t// \tthis.flyEaten = false;\r\n\t\t\t\t// }\r\n\r\n\t\t\t\t// if (this.fliesEaten >= this.needToEat) {\r\n\t\t\t\t// \tthis.success = true;\r\n\t\t\t\t// \tthis.successHandler();\r\n\t\t\t\t// }\r\n\r\n\t\t\t\t// this.message = this.questMessage + `\\n${this.fliesEaten} / ${this.needToEat}`;\r\n\t\t\t},\r\n\r\n\t\t\t// success fn\r\n\t\t\tfunction() {\r\n\t\t\t\tif (!this.successHandled) {\r\n\t\t\t\t\tthis.successHandled = true;\r\n\t\t\t\t\tthis.message = 'Crab get!';\r\n\t\t\t\t\tthis.crab.destroyed = true;\r\n\t\t\t\t\t// generalState.wizardAnim();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// quest message\r\n\t\t\t'Find the crab.',\r\n\r\n\t\t\t// special draw\r\n\t\t\tfunction(gfx, opacity) {\r\n\t\t\t\t// for (let i = 0; i < this.needToEat; i++) {\r\n\t\t\t\t// \tpush();\r\n\t\t\t\t// \ttranslate(this.gui.x + this.gui.w / 2 - 1.5 * gfx['fly'].width, this.gui.y + 4 * this.gui.h / 5);\r\n\t\t\t\t// \ttint(255, opacity * (.5 + .5 * (i < this.fliesEaten ? 1 : 0)));\r\n\t\t\t\t// \timage(gfx['fly'], gfx['fly'].width * i, 0);\r\n\t\t\t\t// \tpop();\r\n\t\t\t\t// }\r\n\t\t\t\tpush();\r\n\t\t\t\ttranslate(this.gui.x + this.gui.w / 2 - .3 * gfx.crab.width / 2, this.gui.y + 1 * this.gui.h / 2);\r\n\t\t\t\ttint(255, opacity * (.5 + .5 * this.success));\r\n\t\t\t\timage(gfx.crab, 0, 0, .3 * gfx.crab.width, .3 * gfx.crab.width);\r\n\t\t\t\tpop();\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n}"],"names":["Quest","constructor","assignee","initializer","handler","successHandler","questMessage","draw","this","message","success","successHandled","tick","tickGoal","tickForceDebounce","progress","calcGUIBounds","questBoxPos","screenSizeX","gfx","width","screenSizeY","questBoxSize","questBoxMargin","gui","GUIWindow","sleep","goal","forceReset","deltaTime","frame","FlyQuest","super","fliesEaten","needToEat","flyEaten","character","ateThisFrame","foodName","generalState","wizardAnim","opacity","i","push","translate","x","w","y","h","tint","image","pop","CrabQuest","frog","type","crab","Bug","lilies","edible","bugs","wizardFrog","Frog","frogStand","frogs","wizard","visibleFrogs","given","vignette","createGraphics","fill","stroke","vignetteSize","vignetteFunction","quest","player","questList","currentQuest","midpoint","ctr","background","erase","circle","noErase","lilyBounds","lily","isJumping","controlsEnabled","cam","guiOptions","helpLines","pointingLeft","wizPos","lastCamFrogPos","createVector","frogPos","p5","Vector","add","div","mgr","scene","oScene","particularDraw","sprite","bby","jumpOverride","jumpNextFrame","Math","abs","crabPos","toCamCoords","posX","posY","alertBubble","destroyed"],"version":3,"file":"index.aaa081ba.js.map"}