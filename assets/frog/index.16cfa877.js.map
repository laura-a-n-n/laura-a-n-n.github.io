{"mappings":"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","sources":["public/src/client/player.js"],"sourcesContent":["function isCyclic (obj) {\r\n  var seenObjects = [];\r\n\r\n  function detect (obj) {\r\n    if (obj && typeof obj === 'object') {\r\n      if (seenObjects.indexOf(obj) !== -1) {\r\n        return true;\r\n      }\r\n      seenObjects.push(obj);\r\n      for (var key in obj) {\r\n        if (obj.hasOwnProperty(key) && detect(obj[key])) {\r\n          console.log(obj, 'cycle at ' + key);\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  return detect(obj);\r\n}\r\n\r\nclass Player {\r\n\tconstructor(cam, characterClass) { \r\n\t    // essentials\r\n\t    this.cam = cam;\r\n\t    this.characterProfile = [];\r\n\t    this.characterClass = characterClass;\r\n\t    \r\n\t    // game properties\r\n\t    this.mouseMode = 'split'; // 'split' or 'character'\r\n\t    this.pointingLeft = false;\r\n\r\n\t    // inventory\r\n\t    this.inventory = {};\r\n\r\n\t    // initialize quests\r\n\t    this.initQuests();\r\n\r\n\t    // gui\r\n\t    this.gui = new GUI();\r\n\r\n\t    // number style\r\n\t    this.numberColor = color(255);\r\n\t    this.numOffsetY = 70;\r\n\t    this.numOffsetX = 0;\r\n\r\n\t    // show special number?\r\n\t    this.specialNumber = false;\r\n\t    this.specialLily = 0;\r\n\t    this.sizeSpecial = 40;\r\n\t    this.specialOffX = 30;\r\n\t    this.specialOffY = 70;\r\n\t}\r\n\r\n\tget hasQuest() {\r\n\t\treturn this.currentQuest > -1;\r\n\t}\r\n\r\n\tinstantiateCharacter() {\r\n\t\tthis.character = new this.characterClass(...this.characterProfile);\r\n\t\tthis.character.scale = this.cam.scale;\r\n\t\tfrogs[0] = this.character;\r\n\r\n    // number binds\r\n    this.binds = {\r\n    \t'Q': this.character.typeBind(1),\r\n    \t'W': this.character.typeBind(2),\r\n    \t'E': this.character.typeBind(3),\r\n    \t'R': this.character.typeBind(4)\r\n    }\r\n\r\n\t\treturn this.character;\r\n\t}\r\n\r\n\tresetCharacter() {\r\n\t\tthis.instantiateCharacter();\r\n\t\tthis.initQuests();\r\n\r\n\t\tthis.cam.target = this.character;\r\n\t}\r\n\r\n\tassignQuest(quest) {\r\n\t\tthis.questList.push(new quest(player));\r\n  \tthis.currentQuest = 0;\r\n\t}\r\n\r\n\tinitQuests() {\r\n\t    this.questList = [];\r\n\t    this.currentQuest = -1; // -1 is no quest\r\n\t    this.questDecayFrames = 0;\r\n\t    this.maxQuestFrames = 100;\r\n\t}\r\n\r\n\t/* frame */\r\n\r\n\tframe() {\r\n\t\tconst charCamCoords = this.cam.toCamCoords(this.character.posX, this.character.posY);\r\n\t\t\r\n\t\tthis.pointingLeft = (mouseX < charCamCoords[0]); // (mouseX < screenSizeX / 2) || ;\r\n\t\tthis.character.environment.envDependentFrame(this);\r\n\r\n\t\tif (this.hasQuest) {\r\n\t\t\tif (this.questList[this.currentQuest].frame()) {\r\n\t\t\t\t// if success, fade out quest window\r\n\t\t\t\tthis.questDecayFrames++;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.questDecayFrames > 0) this.questDecayFrames++;\r\n\r\n\t\t\tif (this.questDecayFrames > this.maxQuestFrames) {\r\n\t\t\t\tthis.questDecayFrames = 0;\r\n\t\t\t\tthis.questList.slice(this.currentQuest, 1);\r\n\t\t\t\tthis.currentQuest = -1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// server\r\n\t\t//if (this.character.isJumping) socket.emit('frame', [player.character.posX, player.character.posY]);\r\n\t}\r\n\r\n\t/* draw */\r\n\r\n\tdrawHunger() {\r\n\t\tconst camFrogPos = this.cam.toCamCoords(this.character.posX, this.character.posY);\r\n\r\n\t  const hungerBarWidth = gfx['flyBar'].width;\r\n\t\tconst hungerBarHeight = gfx['flyBar'].height;\r\n\t  const hungerRatio = 1 - (frog.hunger / frog.maxHunger);\r\n\r\n\t  fill(0);\r\n\t  stroke(0);\r\n\t  // textSize(24);\r\n\t  // textFont(pixelFont);\r\n\t  // text('Hunger', screenSizeX - 1.3 * gfx['flyBar'].width, 25);\r\n\r\n\t  if (frog.hungry) {\r\n\t    push();\r\n\t    tint(255, 255 * Math.cos(2 * frameCount / 60));\r\n\t    image(gfx['flyBubble'], camFrogPos[0] + frog.dimX, camFrogPos[1] - frog.dimY,\r\n\t          gfx['flyBubble'].width * cam.scale, gfx['flyBubble'].height * cam.scale);\r\n\t    pop();\r\n\t  }\r\n\r\n\t  if (frog.ateThisFrame) {\r\n\t    frog.showHeart.push(1);\r\n\t  }\r\n\r\n\t  for (const heart in frog.showHeart) {\r\n\t    if (frog.showHeart[heart] > 0) {\r\n\t      frog.showHeart[heart]++;\r\n\t      image(gfx['heart'], camFrogPos[0] + frog.dimX, camFrogPos[1] - frog.dimY - frog.showHeart[heart] / 2,\r\n\t            gfx['heart'].width * cam.scale, gfx['heart'].height * cam.scale);\r\n\t      frog.showHeart[heart] %= frog.heartFrames;\r\n\t    } else {\r\n\t      frog.showHeart.splice(heart, 1);\r\n\t    }\r\n\t  }\r\n\r\n\t  push();\r\n\t  translate(screenSizeX - gfx['flyBar'].width, 10);\r\n\t  image(gfx['flyBarGrey'], 0, 0);\r\n\t  const flyBar = gfx['flyBar'].get(0, 0, hungerRatio * hungerBarWidth, hungerBarHeight);\r\n\t  image(flyBar, 0, 0);\r\n\t  pop();\r\n\t}\r\n\r\n\tdrawQuest(quest) {\r\n\t  const opacity = 255 * (1 - this.questDecayFrames / this.maxQuestFrames);\r\n\t  quest.gui.draw(opacity);\r\n\r\n\t  push();\r\n\t  quest.draw(gfx, opacity);\r\n\t  pop();\r\n\t}\r\n\r\n\tdraw() {\r\n\t\t// main gui\r\n\t\tthis.gui.draw();\r\n\r\n\t\t// hunger gui\r\n\t\tthis.drawHunger()\r\n\r\n\t\t// quest gui\r\n\t  if (this.currentQuest > -1) {\r\n\t    this.drawQuest(this.questList[this.currentQuest]);\r\n\t  }\r\n\r\n\t  // frog gui\r\n\t  this.character.scale = this.cam.scale;\r\n\r\n\t\t// help lines\r\n\t\tif (this.cam.guiOptions['helpLines'] && this.character.type != 0) {\r\n\t\t  if (!this.character.isJumping) {\r\n\t\t    let pointDir = this.character.pointingLeft ? -1 : 1;\r\n\r\n\t\t    let startPosX = this.character.posX + this.character.dimX / 2;\r\n\t\t    let jumpDest = lilies.getLilyPos(this.character.lily + pointDir * this.character.type);\r\n\t\t    let jumpDestX = jumpDest[0] + this.character.dimX / 2 + this.character.offX;\t\t    \r\n\t\t    let jumpDestY = jumpDest[1] + this.character.offY;\r\n\r\n\t\t    this.curveParams = [startPosX, this.character.posY + this.character.dimY / 2,\r\n\t\t        (startPosX + jumpDestX) / 2, ((this.character.posY < jumpDestY) ? this.character.posY : jumpDestY) - this.character.jumpHeight + this.character.dimY / 2, \r\n\t\t        jumpDestX, jumpDestY + this.character.dimY]\r\n\t\t  }\r\n\r\n\t\t  const camCurveParams = [];\r\n\r\n\t\t  for (let k = 0; k < 3; k++) {\r\n\t\t    let pt = [this.curveParams[2 * k], this.curveParams[2 * k + 1]];\r\n\r\n\t\t    [camCurveParams[2 * k], camCurveParams[2 * k + 1]] = this.cam.toCamCoords(...pt);\r\n\t\t  }\r\n\r\n\t\t  const allCurves = [camCurveParams];\r\n\r\n\t\t  push();\r\n\t\t  setLineDash([5, 5]);\r\n\t\t  stroke(255, 128);\r\n\t\t  strokeWeight(3);\r\n\t\t  fill(0, 0, 0, 0);\r\n\r\n\t\t  let drawDot = true;\r\n\t\t  \r\n\t\t  for (const params of allCurves) {\r\n\t\t    switch (envType) {\r\n\t\t      case 'LinearLilies':\r\n\t\t        beginShape();\r\n\t\t        curveVertex(params[0], params[1]);\r\n\t\t        curveVertex(params[0], params[1]);\r\n\t\t        curveVertex(params[2], params[3]);\r\n\t\t        curveVertex(params[4], params[5]);\r\n\t\t        curveVertex(params[4], params[5]);\r\n\t\t        endShape();\r\n\r\n\t\t        break;\r\n\t\t      case 'CyclicLilies':\r\n\t\t        if (!this.character.isJumping) { \r\n\t\t          line(params[0], params[1], params[4], params[5]);\r\n\t\t        } else drawDot = false;\r\n\t\t    }\r\n\r\n\t\t    if (drawDot) {\r\n\t\t      strokeWeight(7 * this.cam.scale);\r\n\t\t      point(params[4], params[5]);\r\n\t\t    }\r\n\t\t  }\r\n\r\n\t\t  pop();\r\n\t\t}\r\n\r\n\t\t// number\r\n\t\tpush();\r\n\r\n\t\tif (this.character.changeNumber) {\r\n\t\t    this.numText = str(this.character.number);\r\n\t\t    this.lilyCamDiff = this.character.lilyPos;\r\n\t\t    this.lilyCamDiff[0] += 2 * this.numText.length + this.numOffsetX;\r\n\t\t    this.character.changeNumber = false;\r\n\t\t}\r\n\r\n\t\ttextFont(pixelFont);\r\n\t\tstroke(this.numberColor);\r\n\t\tfill(this.numberColor);\r\n\t\ttextSize(this.sizeSpecial * this.cam.scale * (1 - this.numText.length / 10));\r\n\t\ttext(this.numText, ...this.cam.toCamCoords(this.lilyCamDiff[0], this.lilyCamDiff[1] + this.numOffsetY * this.cam.scale));\r\n\r\n\t\tif (this.specialNumber) {\r\n\t\t\tlet specialPos = this.cam.toCamCoords(...this.character.environment.getLilyPos(this.specialLily));\r\n\t\t\tspecialPos[0] += this.specialOffX - 2 * this.specialLily.toString().length;\r\n\t\t\tspecialPos[1] += this.specialOffY * cam.scale;\r\n\r\n\t\t\ttext(this.specialLily.toString(), ...specialPos);\r\n\t\t}\r\n\r\n\t\tpop();\r\n\t}\r\n}"],"names":[],"version":3,"file":"index.16cfa877.js.map","sourceRoot":"/__parcel_source_root/"}