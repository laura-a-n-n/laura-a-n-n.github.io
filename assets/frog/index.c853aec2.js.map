{"mappings":"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","sources":["public/src/obj/frog.js"],"sourcesContent":["class Frog {\r\n\tconstructor(\r\n\t\tenvironment,\r\n\t\tsprite,\r\n\t\tstartNumber,\r\n\t\tstartLily,\r\n\t\tstartLilyX,\r\n\t\tstartLilyY,\r\n\t\tscale = 1\r\n\t) {\r\n\t\t// environment\r\n\t\tthis.environment = environment;\r\n\r\n\t\t// image\r\n\t\tthis.sprite = sprite;\r\n\t\tthis.scale = scale;\r\n\t\tthis.isBby = true;\r\n\r\n\t    // numerical properties!\r\n\t    this.type = 1;\r\n\t    this.number = startNumber;\r\n\t    this.lily = startLily;\r\n\t    this.startLily = startLily;\r\n\t    this.changeNumber = true;\r\n\r\n\t    // frog hungy\r\n\t    this.hunger = 0;\r\n\t    this.hungry = false;\r\n\t    this.jumpHungerCost = 2;\r\n\t    this.frameHungerCost = .001;\r\n\t    this.minHunger = 0;\r\n\t    this.maxHunger = 100;\r\n\t    this.hungerWarning = 1 / 5;\r\n\t    this.ateThisFrame = false;\r\n\t    this.foodName = '';\r\n\t    this.showHeart = [];\r\n\t    this.heartFrames = 60;\r\n\r\n\t    // animation\r\n\t    this.animLilyNumber = startLily;\r\n\t    this.drawType = true;\r\n\r\n\t    // jump properties\r\n\t    this.isJumping = false;\r\n\t    this.stoppedJumping = false;\r\n\t    this.jumpNextFrame = false;\r\n\t    this.jumpFrames = 0;\r\n\t    this.baseJumpFrames = 40;\r\n\t    this.baseJumpStore = 80;\r\n\t    this.baseJumpHeight = 80;\r\n\t    this.jumpTime = 80;\r\n\r\n\t    // position \r\n\t    [startLilyX, startLilyY] = this.environment.getLilyPos(startLily);\r\n\t    this.posX = startLilyX + this.offX;\r\n\t    this.posY = startLilyY + this.offY; // spawn height\r\n\t    this.lilyPos = [this.posX, this.posY];\r\n\r\n\t    // velocity\r\n\t    this.velX =  0.;\r\n\t    this.velY = 0.;\r\n\r\n\t    // direction\r\n\t    this.pointingLeft = false;\r\n\t    this.direction = 1;\r\n\t}\r\n\r\n\t/* properties */\r\n\r\n\tget dimX() {\r\n\t\treturn this.sprite.width * this.scale;\r\n\t}\r\n\r\n\tget dimY() {\r\n\t\treturn this.sprite.height * this.scale;\r\n\t}\r\n\r\n\tget offX() {\r\n\t\treturn -this.dimX / 2 + this.environment.lilyDimX / 2;\r\n\t}\r\n\r\n\tget offY() {\r\n\t\treturn -this.dimY + this.scale * this.environment.lilyDimY / 2;\r\n\t}\r\n\r\n\tget maxJumpFrames() {\r\n\t\treturn this.baseJumpFrames + Math.floor(Math.abs(this.type) / 5);\r\n\t}\r\n\r\n\tget travelDist() {\r\n\t\treturn this.type * this.direction;\r\n\t}\r\n\r\n\tget jumpProgress() {\r\n\t\treturn this.jumpFrames / this.maxJumpFrames;\r\n\t}\r\n\r\n\tget jumpHeight() {\r\n\t\treturn this.scale * this.baseJumpHeight;\r\n\t}\r\n\r\n    get jumpY() {\r\n    \treturn 4 * this.jumpHeight * this.jumpProgress * (this.jumpProgress - 1);\r\n    }\r\n\r\n\tget canJump() {\r\n    \treturn !this.isJumping && this.envCondition('jump');\r\n    }\r\n\r\n    get canEat() {\r\n    \treturn !this.isJumping && !this.ateThisFrame;\r\n    }\r\n\r\n    /* methods */\r\n\r\n    envCondition(request) {\r\n    \treturn this.environment.envCondition(this, request);\r\n    }\r\n\r\n    typeBind(num) {\r\n    \treturn (() => this.type = num);\r\n    }\r\n\r\n\tlinearJump() {\r\n\t    this.posX = lerp(this.jumpStartX, this.jumpDestX, this.jumpProgress);\r\n\t    this.posY = lerp(this.jumpStartY, this.jumpDestY, this.jumpProgress); \r\n\t    this.posY += this.jumpY;\r\n\t}\r\n\r\n\tjump() {\r\n\t\tif (this.canJump) {\r\n\t\t\t// handle jump\r\n\t\t\tthis.isJumping = true;\r\n\t\t\tthis.jumpStartX = this.posX;\r\n\t\t\tthis.jumpStartY = this.posY;\r\n\r\n\t\t\tlet jumpDest = this.environment.getLilyPos(this.lily);\r\n\t\t\tthis.jumpDestX = jumpDest[0] + this.offX;\r\n\t\t\tthis.jumpDestY = jumpDest[1] + this.offY;\r\n\r\n\t\t\t// hunger\r\n\t\t\tthis.hunger += this.jumpHungerCost;\r\n\t\t}\r\n\t}\r\n\r\n\tspecial() {\r\n\t\tthis.drawSpecial = false;\r\n\t}\r\n\r\n\tdeleteSpecial() {\r\n\t\tthis.special = function() { };\r\n\t}\r\n\r\n\t/* ~ frame ~ */\r\n\r\n\tframe(cam) {\r\n\t\tthis.special();\r\n\r\n\t\tif (this.jumpNextFrame) {\r\n\t\t\tthis.jump();\r\n\t\t\tthis.jumpNextFrame = false;\r\n\t\t}\r\n\r\n\t    // frog hop\r\n\t    if (this.isJumping) {\r\n\t\t    this.jumpFrames += this.jumpTime * deltaTime / 1000;\r\n\t\t    this.jumpFrames = Math.min(this.jumpFrames, this.maxJumpFrames);\r\n\r\n\t\t    if (this.isBby) {\r\n\t\t\t    let i = Math.floor(10 * this.jumpProgress) % 10;\r\n\t\t\t    gfx['bbySpritesheet' + i.toString()] = gfx['bbySpritesheet'].get(24 * i, 0, 24, 24);\r\n\t\t\t    this.sprite = gfx['bbySpritesheet' + i.toString()];\r\n\t\t\t}\r\n\r\n\t    \tthis.environment.envJump(this);\r\n\t    }\r\n\t    else if (controlsEnabled && keyIsDown(UP_ARROW) && frameCount % 16 == 0) this.type++;\r\n\t    else if (controlsEnabled && keyIsDown(DOWN_ARROW) && frameCount % 16 == 0) this.type--;\r\n\r\n\t    // jump frames\r\n\t    if (this.jumpFrames == this.maxJumpFrames) {\r\n\t\t\t// handle number\r\n\t\t\tthis.number += this.travelDist;\r\n\r\n\t\t\t// stop jumping\r\n\t\t\tthis.jumpFrames = 0;\r\n\t\t\tthis.stoppedJumping = true;\r\n\t\t\tthis.isJumping = false;\r\n\r\n\t        lilies.kerplunkAnim(this.lily);\r\n\t    }\r\n\r\n\t    if (!this.isJumping) {\r\n\t      this.lilyPos = [this.posX, this.posY];\r\n\t      this.changeNumber = true;\r\n\t    }\r\n\r\n\t    // food\r\n\t    this.ateThisFrame = false;\r\n\t    this.foodName = '';\r\n\r\n\t    // hunger\r\n\t    if (this.hunger < this.maxHunger) { \r\n\t    \tthis.hunger += this.frameHungerCost;\r\n\t    } else {\r\n\t    \tresetFrog();\r\n\t    }\r\n\r\n\t    this.hunger = clamp(this.hunger, this.minHunger, this.maxHunger);\r\n\r\n\t    if (this.hunger > (1 - this.hungerWarning) * this.maxHunger) {\r\n\t    \tthis.hungry = true;\r\n\t    } else {\r\n\t    \tthis.hungry = false;\r\n\t    }\r\n\t}\r\n\r\n\t/* ~ draw ~ */\r\n\r\n\tdraw() {\r\n\t\tconst frogPos = cam.toCamCoords(this.posX, this.posY, true, false);\r\n\r\n\t\tpush();\r\n\t\ttranslate(frogPos[0], frogPos[1]);\r\n\r\n\t\t// text\r\n\t\tif (this.drawType) {\r\n\t\t\tpush();\r\n\t\t\tstroke(player.numberColor);\r\n\t\t\tfill(player.numberColor);\r\n\t\t\ttextFont(pixelFont);\r\n\t\t\ttextSize(24);\r\n\t\t\tscale(cam.scale);\r\n\t\t\ttext(this.type, this.dimX * .5, -20);\r\n\t\t\tpop();\r\n\t\t}\r\n\r\n\t\t// follow the mouse\r\n\t\tapplyMatrix(\r\n\t\t  this.pointingLeft ? -1 : 1, 0, \r\n\t\t  0, 1, \r\n\t\t  this.pointingLeft ? this.dimX : 0, 0\r\n\t\t);\r\n\r\n\t\timage(this.sprite, 0, 0, \r\n\t\t  this.dimX,\r\n\t\t  this.dimY\r\n\t\t);\r\n\r\n\t\tif (this.drawSpecial) {\r\n\t\t\tthis.specialDraw();\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\t\t\tpush();\r\n\t    pg.shader(frogShader);\r\n\t    frogShader.setUniform('tex0', gfx['bbyBody']);\r\n\t    frogShader.setUniform('hueVal', hueVal);\r\n\t    frogShader.setUniform('satVal', satVal);\r\n\t    frogShader.setUniform('valVal', valVal);\r\n\t    pg.rect(0, 0, this.sprite.width, this.sprite.height);\r\n\t    image(pg, 0, 0);\r\n\t    image(gfx['bbyFrame'], 0, 0, gfx['bby'].width, gfx['bby'].height);\r\n\t\tpop();\r\n\t\t*/\r\n\r\n\t\tpop();\r\n\t}\r\n}"],"names":["Frog","constructor","environment","sprite","startNumber","startLily","startLilyX","startLilyY","scale","this","isBby","type","number","lily","changeNumber","hunger","hungry","jumpHungerCost","frameHungerCost","minHunger","maxHunger","hungerWarning","ateThisFrame","foodName","showHeart","heartFrames","animLilyNumber","drawType","isJumping","stoppedJumping","jumpNextFrame","jumpFrames","baseJumpFrames","baseJumpStore","baseJumpHeight","jumpTime","getLilyPos","posX","offX","posY","offY","lilyPos","velX","velY","pointingLeft","direction","dimX","width","dimY","height","lilyDimX","lilyDimY","maxJumpFrames","Math","floor","abs","travelDist","jumpProgress","jumpHeight","jumpY","canJump","envCondition","canEat","request","typeBind","num","linearJump","lerp","jumpStartX","jumpDestX","jumpStartY","jumpDestY","jump","jumpDest","special","drawSpecial","deleteSpecial","frame","cam","deltaTime","min","i","gfx","toString","get","envJump","controlsEnabled","keyIsDown","UP_ARROW","frameCount","DOWN_ARROW","lilies","kerplunkAnim","resetFrog","clamp","draw","frogPos","toCamCoords","push","translate","stroke","player","numberColor","fill","textFont","pixelFont","textSize","text","pop","applyMatrix","image","specialDraw"],"version":3,"file":"index.c853aec2.js.map"}