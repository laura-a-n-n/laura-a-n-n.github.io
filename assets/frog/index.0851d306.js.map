{"mappings":"AAAA,SAASA,sBAERC,aAAaC,YAAcC,kBAC3BF,aAAaG,GAAKC,IAAQ,GAE1BJ,aAAaK,eAAiB,WAC7BC,QAAU,EAAIC,YAAcH,IAAID,GAAGK,MACnCC,MAAMT,aAAaG,IAAKC,IAAID,GAAGK,MAAQ,GAAIF,QAAUF,IAAID,GAAGO,OAAS,GAAI,EAAIH,YAAaD,QAAUF,IAAID,GAAGO,SAG5GC,OAAOC,OAAOC,KAAMb,cAEpBc,eAAiB,EAEjBD,KAAKE,gBAAkB,WACtBC,YAAa,EAEbC,OAAOC,OAASd,IAAU,KAC1Ba,OAAOE,UAAY,GACnBF,OAAOG,QAAwB,IAAdb,YACjBU,OAAOI,QAAwB,GAAdC,YACjBL,OAAOM,YAA4B,GAAdhB,YACrBU,OAAOO,YAA4B,GAAdF,YAErBG,OAAOC,YAAcb,KAAKc,UAAUD,YACpCD,OAAOG,eAAgB,EACvBH,OAAOI,YAAcC,MAAM,GAC3BL,OAAOM,WAAa,GACpBN,OAAOO,WAAa,EACpBP,OAAOQ,YAAc,GACrBR,OAAOS,YAAc,GACrBT,OAAOU,iBAAkB,EAEzBV,OAAOW,IAAIC,YAAa,EAExBC,KAAOb,OAAOc,uBAEdC,eAAgB,EAChBC,WAAa,EACbC,cAAgB,EAChBC,aAAc,EACdC,UAAW,EAEXN,KAAKO,KAAO,EAEZC,iBAAkB,EAElBrB,OAAOW,IAAIW,WAAWlC,KAAKc,UAAUqB,UACrCvB,OAAOW,IAAIa,YACXxB,OAAOyB,IAAIC,WAAWC,WAAY,EAClC3B,OAAOW,IAAIiB,IAAIC,UAAUC,MAAO,EAChC9B,OAAO+B,YAAc/B,OAAOgC,UAAUC,YAAYC,SAAW,EAE7DT,IAAIU,UAAW,EAEf3C,OAAO4C,gBAAiB,EACxB5C,OAAO6C,aAAe,GAEtBC,KAAKC,KAAK,IAAIC,IAAIhD,OAAQb,IAAW,MAAGS,KAAKc,UAAUD,YAAa,IAAK,UACzEqC,KAAK,GAAGG,MAAQH,KAAK,GAAGI,KAAO,EAC/BJ,KAAK,GAAGK,UAAY,SAASf,GAAO,OAAOxC,KAAKwD,KAAOpD,OAAOqD,WAAajB,EAAIgB,OAGhFxD,KAAK0D,WAAa,WACjB5B,aAAc,EACdH,eAAgB,EAChBC,WAAa,EAEb+B,WAAalC,KAAKmC,OAElBnC,KAAOb,OAAOc,uBAEdD,KAAKmC,OAASD,YAGf3D,KAAK6D,gBAAkB,WAGtBpC,KAAKqC,MAAQ,IAEThC,aAAeC,YAClBN,KAAKO,KAAO,EACZJ,YAAcmC,UAAY,IAEtBnC,WAAaC,gBAChB7B,KAAK0D,aAED3B,WACH/B,KAAKgE,eAAiB,WAAaC,WAAW,IAE9CC,IAAIC,UAAUC,gBAKZtC,cAAgBL,KAAK4C,WAAa5C,KAAK+B,KAAO5C,OAAOC,aAAeqC,KAAKoB,OAAS,GACtFrC,iBAAkB,EAClBH,aAAc,EAEdL,KAAK8C,UAAW,GACLzC,aAAgBC,UAAaN,KAAK4C,WAA4B,GAAfnB,KAAKoB,SAE/D1D,OAAOU,iBAAkB,EAGzBG,KAAK+C,UAAUrB,KAAK,GACpBpB,UAAW,EACXN,KAAKM,UAAW,EAChB9B,iBACAwB,KAAK8C,UAAW,IAIlBvE,KAAKgE,eAAiB,WACjBvC,KAAK4C,YAAaI,OAAO,KAAMC,KAAK,MACxC9E,MAAML,IAAW,MAAG,EAAG,EAAwB,GAArBA,IAAW,MAAEI,MAAkC,GAAtBJ,IAAW,MAAEM,QAChE8E,KAAK1E,eAAe2E,WAAY,GAA0B,GAArBrF,IAAW,MAAEI,MAAkC,GAAtBJ,IAAW,MAAEM,OAAc,EAAI","sources":["public/src/scene/cyclic-factors.js"],"sourcesContent":["function CyclicFactorsPuzzle() {\r\n\r\n\tgeneralState.envFunction = cyclicEnvironment;\r\n\tgeneralState.bg = gfx['bg'];\r\n\r\n\tgeneralState.drawBackground = function() {\r\n\t\tbgScale = 2 * screenSizeX / gfx.bg.width;\r\n\t\timage(generalState.bg, -gfx.bg.width / 5, -bgScale * gfx.bg.height * .6, 2 * screenSizeX, bgScale * gfx.bg.height);\r\n\t}\r\n\r\n\tObject.assign(this, generalState);\r\n\r\n\tpuzolsComplete = 0;\r\n\r\n\tthis.particularSetup = function() {\r\n\t\tpuzzleMode = true;\r\n\r\n\t\tlilies.sprite = gfx['lily']\r\n\t\tlilies.lilyScale = .5;\r\n\t\tlilies.radiusX = screenSizeX * .18;\r\n\t\tlilies.radiusY = screenSizeY * .1;\r\n\t\tlilies.lilyCenterX = screenSizeX * .4;\r\n\t\tlilies.lilyCenterY = screenSizeY * .8;\r\n\r\n\t\tplayer.specialLily = this.sceneArgs.specialLily;\r\n\t\tplayer.specialNumber = true;\r\n\t\tplayer.numberColor = color(0);\r\n\t\tplayer.numOffsetY = 57;\r\n\t\tplayer.numOffsetX = 0;\r\n\t\tplayer.sizeSpecial = 30;\r\n\t\tplayer.specialOffY = 40;\r\n\t\tplayer.drawNumberBelow = true;\r\n\r\n\t\tplayer.gui.cyclicMode = true;\r\n\r\n\t\tfrog = player.instantiateCharacter();\r\n\r\n\t\tbuttonPressed = false;\r\n\t\twaitFrames = 0;\r\n\t\tmaxWaitFrames = 4;\r\n\t\tlevelFailed = false;\r\n\t\tlevelWon = false;\r\n\r\n\t\tfrog.type = 0;\r\n\r\n\t\tcontrolsEnabled = false;\r\n\r\n\t\tplayer.gui.initialize(this.sceneArgs.initVals);\r\n\t\tplayer.gui.calculate();\r\n\t\tplayer.cam.guiOptions.helpLines = true;\r\n\t\tplayer.gui.obj.quickFrog.draw = true;\r\n\t\tplayer.specialOffX = player.character.environment.lilyDimX / 3;\r\n\r\n\t\tcam.anchored = true; \r\n\t\t\r\n\t\tlilies.negativeLilies = false;\r\n\t\tlilies.lilySpacingX = 80;\r\n\r\n\t\tbugs.push(new Bug(lilies, gfx['snail'], this.sceneArgs.specialLily, .15, 'snail'));\r\n\t\tbugs[0].posY -= bugs[0].dimY / 3;\r\n\t\tbugs[0].isTouched = function(obj) { return this.lily % lilies.numLilies == obj.lily; };\r\n\t}\r\n\r\n\tthis.resetLevel = function() {\r\n\t\tlevelFailed = false;\r\n\t\tbuttonPressed = false;\r\n\t\twaitFrames = 0;\r\n\r\n\t\tlastHunger = frog.hunger;\r\n\r\n\t\tfrog = player.instantiateCharacter();\r\n\r\n\t\tfrog.hunger = lastHunger;\r\n\t}\r\n\r\n\tthis.particularFrame = function() {\r\n\t\t//controlsEnabled = false;\r\n\r\n\t\tfrog.scale = .5;\r\n\r\n\t\tif (levelFailed || levelWon) {\r\n\t\t\tfrog.type = 0;\r\n\t\t\twaitFrames += deltaTime / 1000;\r\n\t\t\t\r\n\t\t\tif (waitFrames > maxWaitFrames) {\r\n\t\t\t\tthis.resetLevel();\r\n\r\n\t\t\t\tif (levelWon) {\r\n\t\t\t\t\tthis.particularDraw = function() { background(0); } // fix glitchy screen\r\n\t\t\t\t\t// mgr.showScene(OpenLinear, {step: 1});\r\n\t\t\t\t\tmgr.showScene(FrogHeaven);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!levelFailed && !frog.tooHungry && frog.lily > player.specialLily && bugs.length > 0) {\r\n\t\t\tcontrolsEnabled = false;\r\n\t\t\tlevelFailed = true;\r\n\t\t\t//frog.number += frog.type;\r\n\t\t\tfrog.drawType = false;\r\n\t\t} else if (!levelFailed && !levelWon && !frog.tooHungry && bugs.length == 0) {\r\n\t\t\t// player.specialNumber = false;\r\n\t\t\tplayer.drawNumberBelow = false;\r\n\t\t\t// epic! wonned!\r\n\t\t\t//frog.number -= frog.type * 2;\r\n\t\t\tfrog.showHeart.push(1);\r\n\t\t\tlevelWon = true;\r\n\t\t\tfrog.levelWon = true;\r\n\t\t\tpuzolsComplete++;\r\n\t\t\tfrog.drawType = false;\r\n\t\t}\r\n\t}\r\n\r\n\tthis.particularDraw = function() {\r\n\t\tif (frog.tooHungry) { stroke(255); fill(255); } \r\n\t\timage(gfx['snail'], 5, 0, gfx['snail'].width * .1, gfx['snail'].height * .1);\r\n\t\ttext(puzolsComplete.toString(), 15 + gfx['snail'].width * .1, gfx['snail'].height * .1 / 2 + 10)\r\n\t}\r\n}"],"names":["CyclicFactorsPuzzle","generalState","envFunction","cyclicEnvironment","bg","gfx","drawBackground","bgScale","screenSizeX","width","image","height","Object","assign","this","puzolsComplete","particularSetup","puzzleMode","lilies","sprite","lilyScale","radiusX","radiusY","screenSizeY","lilyCenterX","lilyCenterY","player","specialLily","sceneArgs","specialNumber","numberColor","color","numOffsetY","numOffsetX","sizeSpecial","specialOffY","drawNumberBelow","gui","cyclicMode","frog","instantiateCharacter","buttonPressed","waitFrames","maxWaitFrames","levelFailed","levelWon","type","controlsEnabled","initialize","initVals","calculate","cam","guiOptions","helpLines","obj","quickFrog","draw","specialOffX","character","environment","lilyDimX","anchored","negativeLilies","lilySpacingX","bugs","push","Bug","posY","dimY","isTouched","lily","numLilies","resetLevel","lastHunger","hunger","particularFrame","scale","deltaTime","particularDraw","background","mgr","showScene","FrogHeaven","tooHungry","length","drawType","showHeart","stroke","fill","text","toString"],"version":3,"file":"index.0851d306.js.map"}