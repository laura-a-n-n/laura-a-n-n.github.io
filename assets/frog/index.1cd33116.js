function MultiplesPuzzle(){this.envFunction=linearEnvironment,generalState.bg=gfx.bg,generalState.drawBackground=function(){bgScale=screenSizeX/gfx.bg.width,image(generalState.bg,0,-bgScale*gfx.bg.height/4,screenSizeX,bgScale*gfx.bg.height)},generalState.song=sfx.toyTown,generalState.songVol=.3,Object.assign(this,generalState),puzolsComplete=0,this.setupFn=function(){puzzleMode=!1,snailPuzzle=!0,player.specialNumber=!0,player.numberColor=color(0),buttonPressed=!1,waitFrames=0,maxWaitFrames=4,levelFailed=!1,levelWon=!1,frog.levelWon=!1,won=!1,frogTypes=this.sceneArgs.frogTypes,console.log(currentFrogType),frog.type=frogTypes[currentFrogType],controlsEnabled=!1,doubleWon=!1,debounce=!0,player.gui.initialize([...frogTypes,0,0]),player.gui.calculate(),player.gui.obj.quickFrog.draw=!0,buttonMap=["QButton","WButton"],player.gui.obj.quickFrog.obj.EButton.doNotDraw=!0,player.gui.obj.quickFrog.obj.RButton.doNotDraw=!0,player.specialOffX=player.character.environment.lilyDimX/4,player.specialOffY=60,cam.scale=cam.minScale,cam.targetOffsetX=6*cam.w/13,cam.minX||cam.clampX(cam.x-50,Number.MAX_SAFE_INTEGER),cam.anchored=!1,snailDebounce=0,lilies.negativeLilies=!1,lilies.lilySpacingX=80,0==bugs.length?(snail=new Bug(lilies,gfx.snail,1,.2,"snail"),snail.edible=!1,bugs=[snail],snail.lily=player.specialLily):player.specialLily=snail.lily},this.particularSetup=function(){currentFrogType=0,player.specialLily=999,placingSnail=!0,cam.locked&&cam.toggleLock(frog),this.setupFn()},this.resetLevel=function(){levelFailed=!1,buttonPressed=!1,puzolsComplete%2==0&&(placingSnail=!0),waitFrames=0,snailDebounce=0,lastHunger=frog.hunger,frog=player.instantiateCharacter(),frog.type=frogTypes[currentFrogType],cam.locked&&cam.target!=frog&&(cam.toggleLock(frog),cam.toggleLock(frog)),frog.hunger=lastHunger},this.particularFrame=function(){if(frog.pointingLeft=!1,snailDebounce<=1&&1==frogs.length&&(placingSnail=!0),placingSnail&&snailDebounce>1){let e=constrain(lilies.invertLilyX(cam.toWorldCoords(mouseX,lilies.lilyY)[0]),1,Number.MAX_SAFE_INTEGER);snail.lily=e,player.specialLily=e}else if(placingSnail)snailDebounce+=deltaTime/1e3;else{let e=player.gui.obj.quickFrog.obj[buttonMap[currentFrogType]];e.stroke="rgba(100, 255, 100, 1)",e.color="rgba(100, 255, 100, 1)",e.image=gfx.buttonToggled,e.y=screenSizeY/28,e.imageScale=.98}if((levelFailed||levelWon)&&(0==waitFrames&&console.log("level decision"),waitFrames+=deltaTime/1e3,levelFailed?hasWon=!1:hasWon=!0,(waitFrames>maxWaitFrames||levelWon&&puzolsComplete%2==0&&waitFrames>maxWaitFrames/4)&&(this.resetLevel(),console.log(hasWon,won),hasWon?won=!0:(hasWon=!1,frog.type=frogTypes[0],frogs=[frog],visibleFrogs=[0]),levelFailed&&(console.log("epic fail"),puzolsComplete=0,bugs=[]),levelWon||won)))if(console.log(puzolsComplete),puzolsComplete%2==1?snail.edible=!0:snail.edible=!1,1==puzolsComplete)this.sceneArgs.frogTypes=[3,7],this.setupFn(),player.gui.obj.quickFrog.obj.QButton.doNotDraw=!1,player.gui.obj.quickFrog.obj.WButton.doNotDraw=!1,frogs=[frog],visibleFrogs=[0],puzolsComplete=2;else if(3==puzolsComplete)this.sceneArgs.frogTypes=[5,11],this.setupFn(),player.gui.obj.quickFrog.obj.QButton.doNotDraw=!1,player.gui.obj.quickFrog.obj.WButton.doNotDraw=!1,puzolsComplete=4,frogs=[frog],visibleFrogs=[0];else if(5==puzolsComplete)this.particularDraw=function(){background(0)},mgr.showScene(OpenLinear,{step:1});else{console.log("get em next time");let e=(currentFrogType+1)%2,l=snail.lily;frogs[1].type=frogTypes[e],console.log("cur, last",currentFrogType,e),this.setupFn(),player.gui.obj.quickFrog.obj[buttonMap[e]].doNotDraw=!0,puzolsComplete++,snail.lily=l,debounce=!1,placingSnail=!1,controlsEnabled=!0}frog.isJumping||(!levelFailed&&frog.lily>player.specialLily&&bugs.length>0?(console.log("failed"),frog.type=0,controlsEnabled=!1,levelFailed=!0,frog.drawType=!1):levelWon||frog.lily!=player.specialLily?puzolsComplete%2!=0||frog.lily!=player.specialLily||debounce||(console.log("!debounce && won"),debounce=!0,player.specialNumber=!1,snail.edible=!0,frog.type=0,frog.levelWon=!0,player.specialNumber=!1,frog.showHeart.push(1),levelWon=!0,puzolsComplete++,frog.drawType=!1):(console.log("ok ok"),won||(console.log("h"),player.gui.obj.quickFrog.obj[buttonMap[currentFrogType]].doNotDraw=!0,won=!0,frog.type=0,frog.drawType=!1,frogs.push(frog),frog.showHeart.push(1),visibleFrogs.push(1),currentFrogType++,currentFrogType%=2,console.log("cur cur",currentFrogType),levelWon=!0,placingSnail=!1,player.specialNumber=!1)))},this.particularDraw=function(){image(gfx.snail,5,0,.1*gfx.snail.width,.1*gfx.snail.height),text(puzolsComplete.toString(),15+.1*gfx.snail.width,.1*gfx.snail.height/2+10)}}
//# sourceMappingURL=index.1cd33116.js.map
