{"mappings":"AAAA,SAASA,gBAERC,KAAKC,YAAcC,kBACnBC,aAAaC,GAAKC,IAAQ,GAE1BF,aAAaG,eAAiB,WAC7BC,QAAUC,YAAcH,IAAID,GAAGK,MAC/BC,MAAMP,aAAaC,GAAI,GAAIG,QAAUF,IAAID,GAAGO,OAAS,EAAGH,YAAaD,QAAUF,IAAID,GAAGO,SAGvFC,OAAOC,OAAOb,KAAMG,cAGpBW,eAAiB,EAEjBd,KAAKe,gBAAkB,WACtBC,YAAa,EAEbC,OAAOC,YAAclB,KAAKmB,UAAUD,YACpCD,OAAOG,eAAgB,EACvBH,OAAOI,YAAcC,MAAM,GAE3BC,eAAgB,EAChBC,WAAa,EACbC,cAAgB,EAChBC,aAAc,EACdC,UAAW,EAEXC,KAAKC,KAAO,EAEZC,iBAAkB,EAElBb,OAAOc,IAAIC,WAAWhC,KAAKmB,UAAUc,UACrChB,OAAOc,IAAIG,YACXjB,OAAOc,IAAII,IAAIC,UAAUC,MAAO,EAChCpB,OAAOqB,YAAcrB,OAAOsB,UAAUC,YAAYC,SAAW,EAC7DxB,OAAOyB,YAAc,GAErBC,IAAIC,MAAQD,IAAIE,SAChBF,IAAIG,cAAgB,EAAIH,IAAII,EAAI,GAChCJ,IAAIK,WAAWpB,MACfe,IAAIM,UAAW,EACfN,IAAIK,WAAWpB,MAEfsB,OAAOC,gBAAiB,EACxBD,OAAOE,aAAe,GAEtBC,KAAKC,KAAK,IAAIC,IAAIL,OAAQ7C,IAAW,MAAGL,KAAKmB,UAAUD,YAAa,GAAI,WAGzElB,KAAKwD,WAAa,WACjB9B,aAAc,EACdH,eAAgB,EAChBC,WAAa,EAEbI,KAAOX,OAAOwC,wBAGfzD,KAAK0D,gBAAkB,YAClBhC,aAAeC,YAClBC,KAAKC,KAAO,EACZL,YAAcmC,UAAY,IAEtBnC,WAAaC,gBAChBzB,KAAKwD,aAED7B,WACCb,eAAiB,EAEpB8C,IAAIC,UAAUC,oBAAqB,CAAC5C,YAAa,EAAGe,SAAU,CAAC,EAAG,EAAG,EAAG,MAExEjC,KAAKmB,UAAUD,YAAc,GAC7BlB,KAAKmB,UAAUc,SAAW,CAAC,EAAG,EAAG,EAAG,GACpCjC,KAAKe,uBAMJW,aAAeE,KAAKmC,KAAO9C,OAAOC,aAAemC,KAAKW,OAAS,GACnEpC,KAAKqC,QAAUrC,KAAKC,KACpBC,iBAAkB,EAClBJ,aAAc,EACdE,KAAKsC,UAAW,GACLvC,UAA2B,GAAf0B,KAAKW,SAC5B/C,OAAOG,eAAgB,EAEvBQ,KAAKuC,UAAUb,KAAK,GACpB3B,UAAW,EACXb,iBACAc,KAAKsC,UAAW,IAIlBlE,KAAKoE,eAAiB,WACrB1D,MAAML,IAAW,MAAG,EAAG,EAAwB,GAArBA,IAAW,MAAEI,MAAkC,GAAtBJ,IAAW,MAAEM,QAChE0D,KAAKvD,eAAewD,WAAY,GAA0B,GAArBjE,IAAW,MAAEI,MAAkC,GAAtBJ,IAAW,MAAEM,OAAc,EAAI","sources":["public/src/scene/factors-puzzle.js"],"sourcesContent":["function FactorsPuzzle() {\r\n\r\n\tthis.envFunction = linearEnvironment;\r\n\tgeneralState.bg = gfx['bg'];\r\n\r\n\tgeneralState.drawBackground = function() {\r\n\t\tbgScale = screenSizeX / gfx.bg.width;\r\n\t\timage(generalState.bg, 0, -bgScale * gfx.bg.height / 4, screenSizeX, bgScale * gfx.bg.height);\r\n\t}\r\n\r\n\tObject.assign(this, generalState);\r\n\r\n\r\n\tpuzolsComplete = 0;\r\n\r\n\tthis.particularSetup = function() {\r\n\t\tpuzzleMode = true;\r\n\r\n\t\tplayer.specialLily = this.sceneArgs.specialLily;\r\n\t\tplayer.specialNumber = true;\r\n\t\tplayer.numberColor = color(0);\r\n\r\n\t\tbuttonPressed = false;\r\n\t\twaitFrames = 0;\r\n\t\tmaxWaitFrames = 4;\r\n\t\tlevelFailed = false;\r\n\t\tlevelWon = false;\r\n\r\n\t\tfrog.type = 0;\r\n\r\n\t\tcontrolsEnabled = false;\r\n\r\n\t\tplayer.gui.initialize(this.sceneArgs.initVals);\r\n\t\tplayer.gui.calculate();\r\n\t\tplayer.gui.obj.quickFrog.draw = true;\r\n\t\tplayer.specialOffX = player.character.environment.lilyDimX / 4;\r\n\t\tplayer.specialOffY = 60;\r\n\r\n\t\tcam.scale = cam.minScale;\r\n\t\tcam.targetOffsetX = 6 * cam.w / 13;\r\n\t\tcam.toggleLock(frog);\r\n\t\tcam.anchored = true;\r\n\t\tcam.toggleLock(frog);\r\n\r\n\t\tlilies.negativeLilies = false;\r\n\t\tlilies.lilySpacingX = 80;\r\n\r\n\t\tbugs.push(new Bug(lilies, gfx['snail'], this.sceneArgs.specialLily, .2, 'snail'));\r\n\t}\r\n\r\n\tthis.resetLevel = function() {\r\n\t\tlevelFailed = false;\r\n\t\tbuttonPressed = false;\r\n\t\twaitFrames = 0;\r\n\r\n\t\tfrog = player.instantiateCharacter();\r\n\t}\r\n\r\n\tthis.particularFrame = function() {\r\n\t\tif (levelFailed || levelWon) {\r\n\t\t\tfrog.type = 0;\r\n\t\t\twaitFrames += deltaTime / 1000;\r\n\t\t\t\r\n\t\t\tif (waitFrames > maxWaitFrames) {\r\n\t\t\t\tthis.resetLevel();\r\n\r\n\t\t\t\tif (levelWon) {\r\n\t\t\t\t\tif (puzolsComplete > 1) {\r\n\t\t\t\t\t\t// ok time to move on...\r\n\t\t\t\t\t\tmgr.showScene(CyclicFactorsPuzzle, {specialLily: 9, initVals: [2, 3, 4, 5]});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.sceneArgs.specialLily = 12;\r\n\t\t\t\t\t\tthis.sceneArgs.initVals = [5, 7, 8, 6];\r\n\t\t\t\t\t\tthis.particularSetup();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!levelFailed && frog.lily > player.specialLily && bugs.length > 0) {\r\n\t\t\tfrog.number += frog.type;\r\n\t\t\tcontrolsEnabled = false;\r\n\t\t\tlevelFailed = true;\r\n\t\t\tfrog.drawType = false;\r\n\t\t} else if (!levelWon && bugs.length == 0) {\r\n\t\t\tplayer.specialNumber = false;\r\n\t\t\t// epic! wonned!\r\n\t\t\tfrog.showHeart.push(1);\r\n\t\t\tlevelWon = true;\r\n\t\t\tpuzolsComplete++;\r\n\t\t\tfrog.drawType = false;\r\n\t\t}\r\n\t}\r\n\r\n\tthis.particularDraw = function() {\r\n\t\timage(gfx['snail'], 5, 0, gfx['snail'].width * .1, gfx['snail'].height * .1);\r\n\t\ttext(puzolsComplete.toString(), 15 + gfx['snail'].width * .1, gfx['snail'].height * .1 / 2 + 10)\r\n\t}\r\n}"],"names":["FactorsPuzzle","this","envFunction","linearEnvironment","generalState","bg","gfx","drawBackground","bgScale","screenSizeX","width","image","height","Object","assign","puzolsComplete","particularSetup","puzzleMode","player","specialLily","sceneArgs","specialNumber","numberColor","color","buttonPressed","waitFrames","maxWaitFrames","levelFailed","levelWon","frog","type","controlsEnabled","gui","initialize","initVals","calculate","obj","quickFrog","draw","specialOffX","character","environment","lilyDimX","specialOffY","cam","scale","minScale","targetOffsetX","w","toggleLock","anchored","lilies","negativeLilies","lilySpacingX","bugs","push","Bug","resetLevel","instantiateCharacter","particularFrame","deltaTime","mgr","showScene","CyclicFactorsPuzzle","lily","length","number","drawType","showHeart","particularDraw","text","toString"],"version":3,"file":"index.0e8559ff.js.map"}