class LinearLilies{constructor(i,t,e=1,s=10,l=20,r=.9*screenSizeY,h=!0){this.cam=i,this.sprite=t,this.lilySpacingX=s,this.lilyY=r,this.lilyScale=e,this.negativeLilies=h,this.negativeLilies||(this.cam.targetOffsetX=screenSizeX/3),this.lilyBounds=[Number.MIN_VALUE,Number.MAX_VALUE],this.kerplunked=[],this.kerplunkSpeed=5,this.buoyancy=.5}get lilyDimX(){return this.lilyScale*this.sprite.width}get lilyDimY(){return this.lilyScale*this.sprite.height}get camLilySize(){return[this.cam.scale*this.lilyDimX,this.cam.scale*this.lilyDimY]}get trueLilySpacingX(){return this.lilyDimX+this.lilySpacingX}calcStartLily(){this.startLily=0,this.startLilyX=0,this.leftLily=0,this.rightLily=this.numLilies-1}calcLeftLily(){this.leftLily=Math.ceil((this.cam.x-this.cam.w/2)/this.trueLilySpacingX)-this.startLily,this.numLilies=Math.ceil(this.cam.w/this.trueLilySpacingX)+1}getLilyPos(i){let t=this.startLilyX+this.trueLilySpacingX*i;return this.negativeLilies||i<this.startLily&&(t=this.startLilyX),[t,this.lilyY]}invertLilyX(i){return Math.round((i-this.leftLily)/this.trueLilySpacingX)}kerplunkAnim(i){this.kerplunked.push([i,this.kerplunkSpeed])}frogWithinBounds(){return(frog.lily!=this.lilyBounds[0]||!frog.pointingLeft)&&!(frog.lily==this.lilyBounds[1]&&!frog.pointingLeft)}envCondition(i,t){if(t){let t=i.pointingLeft?-1:1;if(!this.frogWithinBounds())return!1;if(!this.negativeLilies){if(i.number+t*i.type<0&&(i.pointingLeft||0!=i.type))return!1}return i.direction=t,i.lily+=i.travelDist,!0}}envJump(i){i.linearJump()}envDependentFrame(i){i.character.pointingLeft=i.pointingLeft,i.character.jumpFrames==i.character.maxJumpFrames&&(this.number+=this.travelDist)}envJumpEnd(i){i.number+=i.travelDist}draw(){this.calcLeftLily();for(let i=this.leftLily-1;i<=this.leftLily+this.numLilies;i++)if("LinearLilies2D"==envType)for(let t=this.topLily;t<=this.topLily+this.numLiliesY;t++){const e=cam.toCamCoords(...this.getLilyPos(i,t));image(this.sprite,...e,...this.camLilySize)}else{let t=0;for(let[e,s]of Object.entries(this.kerplunked))i==s[0]&&(t=s[1],s[1]=Math.max(0,t-this.buoyancy),0==s[1]&&this.kerplunked.splice(e,1));let e=this.getLilyPos(i);e[1]+=t,e=cam.toCamCoords(...e,!0,!1),image(this.sprite,...e,...this.camLilySize)}}}class CyclicLilies{constructor(i,t,e=11){this.cam=i,this.sprite=t,this.numLilies=e,this.radius=.2*screenSizeX,this.radiusX=this.radius,this.radiusY=this.radius,this.lilyCenterX=screenSizeX/2,this.lilyCenterY=screenSizeY/2,this.lilyScale=1,this.kerplunked=[],this.kerplunkSpeed=5,this.buoyancy=.5}get lilyDimX(){return this.sprite.width*this.lilyScale}get lilyDimY(){return this.sprite.height*this.lilyScale}get angle(){return 2*Math.PI/this.numLilies}get camLilySize(){return[this.lilyDimX,this.lilyDimY]}calcLeftLily(){this.leftLily=0,this.leftLilyPos=this.getLilyPos(0),[this.leftLilyX,this.leftLilyY]=this.leftLilyPos}kerplunkAnim(i){this.kerplunked.push([i,this.kerplunkSpeed])}getCircleCoords(i){return[this.radiusX*Math.cos(i),-this.radiusY*Math.sin(i)]}getLilyPos(i){let t=this.angle*i,[e,s]=this.getCircleCoords(t);return[this.lilyCenterX+e,this.lilyCenterY+s]}getDirection(i){let t=this.angle*(i.lily+.5*i.type);return Math.sign(-Math.sin(t))}frogWithinBounds(){return!0}envCondition(i,t){if("jump"==t&&!i.isJumping){let t=1,e=this.angle*(i.lily+t*i.type*.5);return i.lastJumpedDir=t,i.direction=t*Math.sign(-Math.sin(e)),i.lily+=t*i.type,!0}}envJump(i){if(i.type>this.numLilies/2){let t=lerp(this.angle*(i.lily-i.lastJumpedDir*i.type),this.angle*i.lily,i.jumpProgress),[e,s]=this.getCircleCoords(t),l=Math.sqrt(i.type);i.baseJumpHeight=i.baseJumpStore/l,i.posX=this.lilyCenterX+e+i.offX,i.posY=this.lilyCenterY+s+i.jumpY+i.offY}else i.baseJumpHeight=i.baseJumpStore,i.linearJump()}envDependentFrame(i){i.character.pointingLeft=-1==i.character.direction,i.character.mouseLeft=i.pointingLeft,i.character.stoppedJumping&&(i.character.stoppedJumping=!1)}envJumpEnd(i){i.number+=i.type}draw(){this.calcLeftLily();for(let i=this.leftLily;i<this.leftLily+this.numLilies;i++)if("LinearLilies2D"==envType)for(let t=this.topLily;t<=this.topLily+this.numLiliesY;t++){const e=cam.toCamCoords(...this.getLilyPos(i,t));image(this.sprite,...e,...this.camLilySize)}else{let t=0;for(let[e,s]of Object.entries(this.kerplunked))i==s[0]&&(t=s[1],s[1]=Math.max(0,t-this.buoyancy),0==s[1]&&this.kerplunked.splice(e,1));let e=this.getLilyPos(i);e[1]+=t,e=cam.toCamCoords(...e,!0,!1),image(this.sprite,...e,...this.camLilySize)}}}class LinearLilies2D extends LinearLilies{constructor(i,t,e=.2,s=1,l=20,r=.82*screenSizeY,h=!0){super(i,t,e,s,l,r,h),this.jVal=1,this.negativeLilies=!0}get lilyDimX(){return this.lilyScale*this.sprite.width}get lilyDimY(){return this.lilyScale*this.sprite.height}get camLilySize(){return[this.lilyDimX,this.lilyDimY]}get trueLilySpacingX(){return this.sprite.width*this.lilyScale+this.lilySpacingX}calcStartLily(){this.startLily=Math.floor(this.numLilies/2),this.startLilyX=screenSizeX/2,this.startLilyY=screenSizeY/2,this.leftLily=1,this.rightLily=this.numLilies-1,this.jVal=5}calcLeftLily(){this.leftLily=Math.ceil((this.cam.x-this.cam.w/2)/this.trueLilySpacingX)-this.startLily,this.numLilies=5*Math.ceil(this.cam.w/this.trueLilySpacingX)+1,this.topLily=Math.ceil((this.cam.y+this.cam.h/2)/this.trueLilySpacingX)-this.startLily,this.numLiliesY=10*Math.ceil(this.cam.h/this.trueLilySpacingX)+1}getLilyPos(i,t=-1){-1==t&&(t=this.jVal);let e=this.startLilyX+this.trueLilySpacingX*i,s=this.trueLilySpacingX*t;return this.cam.toWorldCoords(e,s)}invertLilyX(i){return Math.floor((i-this.leftLilyX)/this.trueLilySpacingX+1.5)}frogWithinBounds(){return!0}envCondition(i,t){if(t){let t=i.pointingLeft?-1:1;if(!this.negativeLilies){if(i.number+t*i.type<0&&(i.pointingLeft||0!=i.type))return!1}return i.direction=t,i.lily+=i.travelDist,!0}}envJump(i){i.linearJump()}envDependentFrame(i){i.character.pointingLeft=i.pointingLeft,i.character.mouseLeft=i.character.pointingLeft,i.character.jumpFrames==i.character.maxJumpFrames&&(this.number+=this.travelDist)}}
//# sourceMappingURL=index.912ca705.js.map
